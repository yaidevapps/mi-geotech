2025-03-11 00:07:09,275 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA+%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 00:07:09,275 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 00:07:09,656 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA+%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 00:07:47,744 - ERROR - Error in location analysis: '\n            "summary"'
2025-03-11 00:07:47,795 - ERROR - Error in slope analysis: '\n            "summary"'
2025-03-11 00:07:47,816 - ERROR - Error in feasibility report generation: "', '"
2025-03-11 00:07:47,816 - ERROR - Failed to manually parse raw result: [Errno 2] No such file or directory: 'feasibility_result.log'
2025-03-11 00:12:15,710 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 00:12:15,711 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 00:12:15,726 - INFO - Write permissions confirmed.
2025-03-11 00:12:19,590 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA+%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 00:12:19,591 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 00:12:20,057 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA+%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 00:12:58,245 - ERROR - Error in location analysis: '\n            "summary"'
2025-03-11 00:12:58,246 - ERROR - Error in slope analysis: '\n            "summary"'
2025-03-11 00:12:58,313 - ERROR - Error in feasibility report generation: "', '"
2025-03-11 00:12:58,313 - ERROR - Failed to manually parse raw result: [Errno 2] No such file or directory: 'logs\\feasibility_result.log'
2025-03-11 00:17:03,204 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA+%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 00:17:03,204 - DEBUG - Resetting dropped connection: nominatim.openstreetmap.org
2025-03-11 00:17:03,522 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA+%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 00:17:41,406 - ERROR - Error in location analysis: '\n            "summary"'
2025-03-11 00:17:41,441 - ERROR - Error in slope analysis: '\n            "summary"'
2025-03-11 00:17:41,478 - ERROR - Error in feasibility report generation: "', '"
2025-03-11 00:17:41,478 - ERROR - Failed to manually parse raw result: [Errno 2] No such file or directory: 'logs\\feasibility_result.log'
2025-03-11 00:21:16,444 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 00:21:16,444 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 00:21:16,444 - INFO - Write permissions confirmed.
2025-03-11 00:21:16,444 - ERROR - GOOGLE_API_KEY not found in environment. Please set it in the .env file.
2025-03-11 00:32:53,911 - INFO - Write permissions confirmed.
2025-03-11 00:32:53,928 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 00:32:53,928 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 00:32:53,928 - INFO - Gemini model initialized successfully.
2025-03-11 00:33:15,608 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA%2C+98040&format=json&limit=1
2025-03-11 00:33:15,608 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 00:33:15,925 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA%2C+98040&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 00:33:57,536 - INFO - Starting location analysis.
2025-03-11 00:33:57,536 - ERROR - Error in location analysis: '\n            "summary"'
2025-03-11 00:33:57,588 - INFO - Starting slope analysis.
2025-03-11 00:33:57,631 - ERROR - Error in slope analysis: '\n            "summary"'
2025-03-11 00:33:57,631 - INFO - Starting feasibility report generation.
2025-03-11 00:33:57,631 - ERROR - Error in feasibility report generation: "', '"
2025-03-11 00:33:57,631 - ERROR - Failed to manually parse raw result: [Errno 2] No such file or directory: 'logs\\feasibility_result.log'
2025-03-11 00:39:17,119 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 00:39:17,120 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 00:41:25,765 - INFO - Write permissions confirmed.
2025-03-11 00:41:25,765 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 00:41:25,765 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 00:41:25,765 - INFO - Gemini model initialized successfully.
2025-03-11 00:41:30,967 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 00:41:30,967 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 00:41:31,396 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 00:42:17,825 - INFO - Starting location analysis.
2025-03-11 00:42:17,825 - ERROR - Error in location analysis: '\n            "summary"'
2025-03-11 00:42:17,947 - INFO - Starting slope analysis.
2025-03-11 00:42:17,980 - ERROR - Error in slope analysis: '\n            "summary"'
2025-03-11 00:42:17,980 - INFO - Starting feasibility report generation.
2025-03-11 00:42:17,980 - ERROR - Error in feasibility report generation: "', '"
2025-03-11 00:42:17,980 - ERROR - Failed to manually parse raw result: [Errno 2] No such file or directory: 'logs\\feasibility_result.log'
2025-03-11 01:09:38,511 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 01:09:38,511 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 01:09:38,613 - INFO - Write permissions confirmed.
2025-03-11 01:09:38,624 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 01:09:38,624 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 01:09:38,643 - INFO - Gemini model initialized successfully.
2025-03-11 01:09:47,364 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 01:09:47,364 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 01:09:47,711 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 01:10:26,770 - INFO - Starting location analysis.
2025-03-11 01:10:26,841 - ERROR - Error in location analysis: '\n            "summary"'
Stack trace: Traceback (most recent call last):
  File "C:\Users\ryany\cobuilderai\geotech\geotech_mvp\gemini_analysis.py", line 270, in analyze_location
    """.format(check=check)
        ^^^^^^^^^^^^^^^^^^^
KeyError: '\n            "summary"'

2025-03-11 01:10:26,841 - INFO - Starting slope analysis.
2025-03-11 01:10:26,841 - ERROR - Error in slope analysis: '\n            "summary"'
Stack trace: Traceback (most recent call last):
  File "C:\Users\ryany\cobuilderai\geotech\geotech_mvp\gemini_analysis.py", line 352, in analyze_slope
    """.format(slope_data=slope_data)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: '\n            "summary"'

2025-03-11 01:10:26,841 - INFO - Starting feasibility report generation.
2025-03-11 01:10:26,841 - ERROR - Error in feasibility report generation: "', '"
Stack trace: Traceback (most recent call last):
  File "C:\Users\ryany\cobuilderai\geotech\geotech_mvp\gemini_analysis.py", line 461, in generate_feasibility_report
    """.format(location=location, slope=slope)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: "', '"

2025-03-11 01:10:26,841 - ERROR - Failed to manually parse raw result: [Errno 2] No such file or directory: 'logs\\feasibility_result.log'
Stack trace: Traceback (most recent call last):
  File "C:\Users\ryany\cobuilderai\geotech\geotech_mvp\gemini_analysis.py", line 461, in generate_feasibility_report
    """.format(location=location, slope=slope)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: "', '"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ryany\cobuilderai\geotech\geotech_mvp\gemini_analysis.py", line 506, in generate_feasibility_report
    with open(result_log_path, "r", encoding="utf-8") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'logs\\feasibility_result.log'

2025-03-11 01:13:57,789 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 01:13:57,791 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 01:13:57,805 - INFO - Write permissions confirmed.
2025-03-11 01:13:57,820 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 01:13:57,820 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 01:13:57,820 - INFO - Gemini model initialized successfully.
2025-03-11 01:14:02,006 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 01:14:02,008 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 01:14:02,305 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 01:14:42,667 - INFO - Starting location analysis.
2025-03-11 01:14:42,683 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 01:14:42,762 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 01:14:42,762 - DEBUG - Using selector: SelectSelector
2025-03-11 01:14:42,777 - DEBUG - close.started
2025-03-11 01:14:42,777 - DEBUG - close.complete
2025-03-11 01:14:42,777 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 01:14:42,827 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210526CC980>
2025-03-11 01:14:42,827 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 01:14:42,851 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210564AB380>
2025-03-11 01:14:42,851 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 01:14:42,851 - DEBUG - send_request_headers.complete
2025-03-11 01:14:42,851 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 01:14:42,851 - DEBUG - send_request_body.complete
2025-03-11 01:14:42,851 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 01:14:47,360 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 08:14:47 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4419'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 01:14:47,549 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 01:14:47,596 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 01:14:47,688 - DEBUG - receive_response_body.complete
2025-03-11 01:14:47,688 - DEBUG - response_closed.started
2025-03-11 01:14:47,689 - DEBUG - response_closed.complete
2025-03-11 01:14:48,406 - INFO - API call successful, writing result.
2025-03-11 01:14:48,406 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "The environmental data indicates that the proposed construction site on Mercer Island, WA is subject to several significant hazards, including erosion, p...
2025-03-11 01:14:48,467 - ERROR - No valid JSON object found in response: AgentRunResult(data='```json\n{\n  "summary": "The environmental data indicates that the proposed construction site on Mercer Island, WA is subject to several significant hazards, including erosion, potential landslide activity, seismic activity, and the presence of a watercourse buffer. These factors introduce complexity to the project and necessitate thorough geotechnical investigation and mitigation measures. Ignoring these hazards could lead to structural damage, environmental degradation, and regulatory non-compliance. This preliminary assessment highlights the need for a comprehensive geotechnical investigation to determine the specific risks and develop appropriate mitigation strategies.",\n  "recommendations": [\n    "Conduct a detailed site-specific geotechnical investigation, including subsurface exploration (e.g., borings, test pits) and laboratory testing, to characterize the soil properties, groundwater conditions, and bedrock profile. This is crucial for assessing slope stability, erosion potential, and seismic response.",\n    "Perform a slope stability analysis, considering both static and dynamic (seismic) conditions, to evaluate the factor of safety against landslides. This analysis should incorporate site-specific soil parameters and groundwater levels.",\n    "Develop an erosion control plan in accordance with Washington State Department of Ecology (WDOE) requirements and the City of Mercer Island\'s stormwater management regulations. The plan should include measures to minimize soil disturbance during construction and prevent sediment runoff into nearby watercourses. Reference WDOE\'s Stormwater Management Manual for Western Washington (latest edition).",\n    "Assess the potential impact of seismic activity on the proposed structure, considering the site\'s location in a designated seismic zone. Design the foundation and structure to meet the seismic design requirements of the International Building Code (IBC) and ASCE 7 (Minimum Design Loads and Associated Criteria for Buildings and Other Structures). Refer to IBC Section 1613 and ASCE 7 Chapter 11-23 (as applicable to seismic design).",\n    "Establish and maintain a watercourse buffer zone in accordance with local regulations. This buffer should be designed to protect water quality, preserve riparian habitat, and prevent erosion along the watercourse. Consult the Mercer Island City Code for specific buffer requirements.",\n    "Engage a qualified geotechnical engineer to oversee the site investigation, analysis, and design of mitigation measures. The geotechnical engineer should be licensed in the state of Washington and have experience with projects in the Puget Sound region.",\n    "Review historical landslide data and geological maps for the Mercer Island area to identify any previous landslide activity in the vicinity of the site. This information can provide valuable insights into potential slope instability issues.",\n    "Develop a comprehensive monitoring plan to track soil movement, groundwater levels, and erosion during and after construction. This plan should include regular inspections and instrumentation (e.g., inclinometers, piezometers) to detect any signs of instability.",\n    "Consider alternative foundation designs that are suitable for unstable slopes or areas with high erosion potential, such as deep foundations (e.g., piles, drilled shafts) or retaining walls. These options may be necessary to ensure the long-term stability of the structure.",\n    "Obtain all necessary permits and approvals from the City of Mercer Island and other relevant regulatory agencies before commencing construction. Ensure that the project complies with all applicable building codes, environmental regulations, and zoning ordinances."\n  ]\n}\n```')
2025-03-11 01:14:48,495 - INFO - Starting slope analysis.
2025-03-11 01:14:48,496 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 01:14:48,498 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 01:14:48,501 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 01:14:48,502 - DEBUG - send_request_headers.complete
2025-03-11 01:14:48,503 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 01:14:48,503 - DEBUG - send_request_body.complete
2025-03-11 01:14:48,504 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 01:14:53,304 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 08:14:53 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4750'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 01:14:53,304 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 01:14:53,304 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 01:14:53,304 - DEBUG - receive_response_body.complete
2025-03-11 01:14:53,304 - DEBUG - response_closed.started
2025-03-11 01:14:53,304 - DEBUG - response_closed.complete
2025-03-11 01:14:53,304 - INFO - API call successful, writing result.
2025-03-11 01:14:53,304 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "Based on the provided slope data, the property on Mercer Island exhibits moderately steep slopes, with an average slope of 29.69 degrees and a maximum sl...
2025-03-11 01:14:53,304 - ERROR - No valid JSON object found in response: AgentRunResult(data='```json\n{\n  "summary": "Based on the provided slope data, the property on Mercer Island exhibits moderately steep slopes, with an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. These slopes pose potential geotechnical challenges that need to be carefully addressed during the design and construction phases. A preliminary assessment indicates a potential risk of slope instability, which could impact foundation design and overall site safety. Further geotechnical investigation is crucial to accurately assess soil properties, groundwater conditions, and potential landslide hazards to develop appropriate mitigation strategies.",\n  "recommendations": [\n    "Conduct a comprehensive geotechnical investigation, including subsurface explorations (e.g., borings, test pits) to determine soil stratigraphy, soil strength parameters (e.g., shear strength, cohesion, friction angle), and groundwater levels. This investigation should extend to a depth sufficient to characterize the subsurface conditions relevant to slope stability and foundation design. Refer to WSDOT Geotechnical Design Manual Chapter 3 for guidance on subsurface investigations.",\n    "Perform a detailed slope stability analysis using appropriate software (e.g., SLOPE/W, GeoStudio). The analysis should consider both static and seismic conditions, as Mercer Island is located in a seismic zone. The analysis should incorporate site-specific soil parameters obtained from the geotechnical investigation. Account for potential changes in soil moisture due to seasonal variations and precipitation events, which can affect slope stability. Refer to ASCE 7 for seismic design parameters.",\n    "Evaluate the potential for landslides and debris flows, considering the historical landslide activity in the Puget Sound region and Mercer Island\'s specific geological setting. Review available geological maps and reports to identify areas with a history of landslides. If evidence of past landslides is found, conduct detailed landslide mapping and stability analysis. Consult the Washington State Department of Natural Resources (DNR) landslide database for historical landslide information.",\n    "Assess the impact of the slopes on foundation design. Consider using deep foundations (e.g., piles, drilled shafts) to bypass unstable surface soils and transfer loads to competent bedrock. Alternatively, implement ground improvement techniques (e.g., soil nailing, retaining walls) to enhance slope stability and reduce the risk of foundation settlement. The foundation design must comply with the International Building Code (IBC) Section 1808 and the Mercer Island Building Code.",\n    "Develop an erosion and sediment control plan to minimize soil erosion during construction. The plan should include measures such as silt fences, straw wattles, and temporary drainage controls. Consider the proximity to Lake Washington and implement best management practices to prevent sediment from entering the lake. This plan should adhere to Washington State Department of Ecology\'s Stormwater Management Manual for Western Washington.",\n    "Implement appropriate drainage measures to control surface water runoff and groundwater infiltration. Install surface drains to divert surface water away from the slopes. Consider subsurface drainage systems to lower the groundwater table and improve slope stability. Ensure that the drainage systems are properly maintained to prevent clogging and ensure their long-term effectiveness. Refer to WSDOT Geotechnical Design Manual Chapter 7 for drainage design guidelines.",\n    "Conduct a site-specific seismic hazard analysis to determine the appropriate seismic design parameters. The analysis should consider the potential for ground shaking, liquefaction, and seismic slope instability. The seismic design must comply with ASCE 7 and the IBC, considering the site\'s soil profile and proximity to active faults.",\n    "All recommendations must be reviewed and approved by a licensed geotechnical engineer in Washington State."\n  ]\n}\n```')
2025-03-11 01:14:53,304 - INFO - Starting feasibility report generation.
2025-03-11 01:14:53,304 - ERROR - Error in feasibility report generation: "', '"
Stack trace: Traceback (most recent call last):
  File "C:\Users\ryany\cobuilderai\geotech\geotech_mvp\gemini_analysis.py", line 461, in generate_feasibility_report
    """.format(location=location, slope=slope)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: "', '"

2025-03-11 01:14:53,304 - ERROR - Failed to manually parse raw result: [Errno 2] No such file or directory: 'logs\\feasibility_result.log'
Stack trace: Traceback (most recent call last):
  File "C:\Users\ryany\cobuilderai\geotech\geotech_mvp\gemini_analysis.py", line 461, in generate_feasibility_report
    """.format(location=location, slope=slope)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: "', '"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ryany\cobuilderai\geotech\geotech_mvp\gemini_analysis.py", line 506, in generate_feasibility_report
    with open(result_log_path, "r", encoding="utf-8") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'logs\\feasibility_result.log'

2025-03-11 01:21:31,168 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 01:21:31,168 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 01:21:31,234 - INFO - Write permissions confirmed.
2025-03-11 01:21:31,254 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 01:21:31,254 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 01:21:31,268 - INFO - Gemini model initialized successfully.
2025-03-11 01:21:55,702 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA%2C+98040&format=json&limit=1
2025-03-11 01:21:55,702 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 01:21:55,956 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA%2C+98040&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 01:22:34,944 - INFO - Starting location analysis.
2025-03-11 01:22:34,944 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 01:22:35,023 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 01:22:35,023 - DEBUG - Using selector: SelectSelector
2025-03-11 01:22:35,033 - DEBUG - close.started
2025-03-11 01:22:35,033 - DEBUG - close.complete
2025-03-11 01:22:35,033 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 01:22:35,101 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210517C1820>
2025-03-11 01:22:35,101 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 01:22:35,132 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021051610350>
2025-03-11 01:22:35,195 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 01:22:35,195 - DEBUG - send_request_headers.complete
2025-03-11 01:22:35,195 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 01:22:35,195 - DEBUG - send_request_body.complete
2025-03-11 01:22:35,195 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 01:22:39,579 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 08:22:39 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4366'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 01:22:39,626 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 01:22:39,641 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 01:22:39,673 - DEBUG - receive_response_body.complete
2025-03-11 01:22:39,673 - DEBUG - response_closed.started
2025-03-11 01:22:39,673 - DEBUG - response_closed.complete
2025-03-11 01:22:39,748 - INFO - API call successful, writing result.
2025-03-11 01:22:39,748 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "Based on the provided environmental data, the proposed construction site on Mercer Island is subject to several geotechnical hazards that require careful...
2025-03-11 01:22:39,756 - ERROR - No valid JSON object found in response: ```json\n{\n  "summary": "Based on the provided environmental data, the proposed construction site on Mercer Island is subject to several geotechnical hazards that require careful consideration during project planning and execution. The presence of erosion hazards, a potential slide area, and a seismic hazard indicate a need for detailed site-specific investigations to assess the stability of the soil, potential for landslides, and the impact of seismic activity. Additionally, the watercourse buffer introduces specific regulatory constraints related to water quality and ecological protection. These hazards collectively increase the risk profile of the project and will likely necessitate specialized engineering design and construction techniques to mitigate potential adverse impacts.",\n  "recommendations": [\n    "Conduct a comprehensive geotechnical investigation, including subsurface exploration (e.g., borings, test pits) and laboratory testing, to characterize soil properties, groundwater conditions, and potential landslide susceptibility. This investigation should be performed in accordance with WSDOT Geotechnical Design Manual (current edition) and ASCE 7 standards for seismic design.",\n    "Perform a detailed slope stability analysis to evaluate the potential for landslides, considering both static and seismic loading conditions. The analysis should account for the specific soil properties and hydrogeology of the site. This analysis should adhere to WSDOT guidelines for slope stability analysis.",\n    "Develop an erosion and sediment control plan (ESCP) that complies with the requirements of the Washington State Department of Ecology (Ecology) and the City of Mercer Island. The ESCP should address measures to prevent soil erosion during construction and post-construction, considering the identified erosion hazard. Reference the Washington State Stormwater Management Manual for Western Washington for best management practices.",\n    "Establish appropriate setbacks and buffer zones from the watercourse, adhering to the City of Mercer Island\'s Shoreline Master Program and critical areas ordinance (verify current versions for precise setback distances). Implement measures to protect water quality and minimize disturbance to the watercourse and its associated riparian habitat.",\n    "Design the foundation system considering the potential for seismic activity and soil liquefaction. Perform a site-specific seismic hazard analysis to determine the appropriate design parameters, adhering to the International Building Code (IBC) (current edition) and ASCE 7 standards. Evaluate the potential for liquefaction and implement appropriate mitigation measures, such as ground improvement techniques, if necessary.",\n    "Develop a construction monitoring plan to observe and document site conditions during construction, including soil stability, erosion control measures, and the performance of any engineered mitigation measures. The monitoring plan should include trigger levels for corrective action if adverse conditions are observed.",\n    "Prepare a detailed geotechnical report summarizing the findings of the geotechnical investigation, slope stability analysis, seismic hazard analysis, and other relevant studies. The report should include recommendations for foundation design, slope stabilization, erosion control, and other geotechnical considerations. The report should be reviewed and stamped by a licensed geotechnical engineer in the State of Washington.",\n    "Investigate historical landslide records for the immediate vicinity of the site using Washington State Department of Natural Resources (DNR) landslide database and local city records to supplement the geotechnical investigation. This can provide insight into past landslide activity and potential future risks."\n  ]\n}\n```
2025-03-11 01:22:39,756 - INFO - Starting slope analysis.
2025-03-11 01:22:39,756 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 01:22:39,756 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 01:22:39,760 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 01:22:39,760 - DEBUG - send_request_headers.complete
2025-03-11 01:22:39,760 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 01:22:39,760 - DEBUG - send_request_body.complete
2025-03-11 01:22:39,763 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 01:22:44,727 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 08:22:44 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4944'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 01:22:44,728 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 01:22:44,728 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 01:22:44,730 - DEBUG - receive_response_body.complete
2025-03-11 01:22:44,730 - DEBUG - response_closed.started
2025-03-11 01:22:44,730 - DEBUG - response_closed.complete
2025-03-11 01:22:44,732 - INFO - API call successful, writing result.
2025-03-11 01:22:44,734 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "The provided slope data indicates a moderately steep slope with an average of 29.69 degrees and a maximum of 32.09 degrees. These slope angles, particula...
2025-03-11 01:22:44,736 - ERROR - No valid JSON object found in response: ```json\n{\n  "summary": "The provided slope data indicates a moderately steep slope with an average of 29.69 degrees and a maximum of 32.09 degrees. These slope angles, particularly the maximum, warrant a thorough geotechnical investigation to assess slope stability, potential landslide hazards, and associated implications for foundation design and construction. The presence of slopes exceeding 30 degrees on Mercer Island, given the local soil conditions (typically glacial till with potential for perched water tables and sensitive marine clays in some areas), presents a heightened risk that requires careful evaluation. This assessment should include considerations for seismic activity, as Mercer Island is located in a seismically active zone. The relatively high slope angle suggests the need for engineered solutions to ensure long-term stability and prevent adverse impacts on adjacent properties or infrastructure. Without further subsurface investigation and laboratory testing, a definitive determination of slope stability cannot be made. Therefore, comprehensive geotechnical investigation is highly recommended.",\n  "recommendations": [\n    "Conduct a detailed site-specific geotechnical investigation to determine soil stratigraphy, groundwater conditions, and soil strength parameters. This investigation should include borings, test pits, and laboratory testing (e.g., sieve analysis, Atterberg limits, consolidation tests, direct shear tests, or triaxial tests).",\n    "Perform a slope stability analysis using appropriate software (e.g., SLOPE/W) to evaluate the factor of safety against sliding under both static and seismic loading conditions. The analysis should consider potential failure surfaces, including shallow surface failures and deep-seated failures.",\n    "Evaluate the need for slope stabilization measures, such as retaining walls, soil nailing, or terracing, based on the results of the slope stability analysis and in accordance with the International Building Code (IBC) Section 1804 and WSDOT Geotechnical Design Manual Chapter 6. Consider local Mercer Island amendments to the IBC.",\n    "Assess the potential for soil erosion and implement appropriate erosion control measures as outlined in the City of Mercer Island\'s stormwater management regulations and WSDOT Hydraulics Manual Chapter 7. Slopes of this magnitude are more susceptible to erosion, which could undermine slope stability.",\n    "Investigate groundwater conditions and evaluate the potential for perched water tables or seepage that could negatively impact slope stability. Consider the installation of subsurface drainage systems if necessary to manage groundwater.",\n    "Evaluate the seismic hazard potential in accordance with ASCE 7, Minimum Design Loads and Associated Criteria for Buildings and Other Structures, and the IBC, considering the site\'s location in a seismically active region. The slope stability analysis should account for seismic loading.",\n    "Consult with a qualified geotechnical engineer to interpret the geotechnical data and develop appropriate foundation design recommendations that account for the slope conditions and potential for slope movement. Foundation setbacks from the top of the slope, as required by the IBC Section 1808.7, should be carefully considered.",\n    "Prepare a comprehensive geotechnical report that documents the findings of the investigation, the slope stability analysis, and the recommendations for foundation design and slope stabilization. This report should be submitted to the City of Mercer Island for review and approval.",\n    "Implement a monitoring program during construction to observe slope behavior and detect any signs of instability. This may include visual inspections, inclinometers, and survey monitoring points.",\n    "Comply with all applicable Mercer Island building codes and regulations related to slope stability and erosion control. Verify compliance with the most recent adopted version of the IBC and any local amendments."\n  ]\n}\n```
2025-03-11 01:22:44,736 - INFO - Starting feasibility report generation.
2025-03-11 01:22:44,736 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 01:22:44,736 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 01:22:44,736 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 01:22:44,751 - DEBUG - send_request_headers.complete
2025-03-11 01:22:44,751 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 01:22:44,751 - DEBUG - send_request_body.complete
2025-03-11 01:22:44,751 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 01:22:48,888 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 08:22:48 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4124'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 01:22:48,888 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 01:22:48,888 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 01:22:48,888 - DEBUG - receive_response_body.complete
2025-03-11 01:22:48,888 - DEBUG - response_closed.started
2025-03-11 01:22:48,888 - DEBUG - response_closed.complete
2025-03-11 01:22:48,888 - INFO - API call successful, writing result.
2025-03-11 01:22:48,888 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n    "location_analysis": {\n        "summary": "Due to the lack of specific property coordinates and initial data, a comprehensive location analysis cannot be performe...
2025-03-11 01:22:48,898 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: {\n    "location_analysis": {\n        "summary": "Due to the lack of specific property coordinates and initial data, a comprehensive location analysis cannot be performed at this time. A thorough geotechnical investigation is required to understand the site\'s specific geological profile, including soil types, bedrock depth, groundwater table, and potential hazards. This requires verification from local geological surveys and site-specific borings.",\n        "recommendations": [\n            "Conduct a detailed site reconnaissance to identify any visible signs of instability, such as landslides, erosion, or seepage.",\n            "Obtain existing geological maps and reports for Mercer Island to understand the regional geology (e.g., USGS, WSDOT).",\n            "Perform a preliminary review of historical aerial photographs to identify any past land use or disturbances that may affect site stability."\n        ]\n    },\n    "slope_analysis": {\n        "summary": "Without detailed topographic data for the site, a specific slope analysis cannot be conducted. Mercer Island is known to have areas with significant slopes, increasing the potential for slope instability. A detailed topographic survey is essential to assess slope angles and identify areas requiring further investigation. This requires verification from local geological surveys or a site-specific topographic survey.",\n        "recommendations": [\n            "Conduct a topographic survey of the property to determine slope angles and identify any existing slope instability issues.",\n            "Perform a slope stability analysis to evaluate the factor of safety against potential landslides, considering both static and seismic conditions (ASCE 7).",\n            "Assess the potential impact of construction activities on slope stability, including excavation, filling, and vegetation removal."\n        ]\n    },\n    "overall_feasibility": "A preliminary geotechnical feasibility assessment for a property on Mercer Island, WA, requires extensive site-specific data, including geological surveys, soil testing, and topographic information. Without this information, a comprehensive evaluation is not possible. Due to the island\'s geological context, careful consideration of slope stability, soil conditions, and seismic activity is critical. Proceed with caution and comprehensive site investigations.",\n    "detailed_recommendations": [\n        "Engage a qualified geotechnical engineer to perform a comprehensive site investigation, including soil borings, laboratory testing, and groundwater monitoring (WSDOT Geotechnical Design Manual).",\n        "Conduct a slope stability analysis to assess the risk of landslides and determine appropriate mitigation measures (ASCE 7).",\n        "Evaluate the suitability of different foundation types based on the soil conditions and structural loads (IBC Chapter 18).",\n        "Assess the potential for liquefaction during a seismic event and implement appropriate ground improvement techniques if necessary (WSDOT Geotechnical Design Manual).",\n        "Address any environmental hazards identified during the site investigation, such as contaminated soil or groundwater.",\n        "Comply with all applicable local building codes and regulations, including those related to grading, drainage, and erosion control (Mercer Island Building Code).",\n        "Implement appropriate erosion and sediment control measures during construction to protect water quality (Washington State Department of Ecology requirements).",\n        "Develop a detailed construction monitoring plan to ensure that the geotechnical design assumptions are valid and that construction activities do not compromise site stability."\n    ]\n}
2025-03-11 01:26:52,857 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 01:26:52,857 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 01:26:52,875 - INFO - Write permissions confirmed.
2025-03-11 01:26:52,875 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 01:26:52,875 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 01:26:52,875 - INFO - Gemini model initialized successfully.
2025-03-11 01:26:57,427 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 01:26:57,427 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 01:26:57,789 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 01:27:36,526 - INFO - Starting location analysis.
2025-03-11 01:27:36,527 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 01:27:36,617 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 01:27:36,617 - DEBUG - Using selector: SelectSelector
2025-03-11 01:27:36,617 - DEBUG - close.started
2025-03-11 01:27:36,617 - DEBUG - close.complete
2025-03-11 01:27:36,617 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 01:27:36,664 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021050EC1AC0>
2025-03-11 01:27:36,664 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 01:27:36,696 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021050EC1D90>
2025-03-11 01:27:36,696 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 01:27:36,697 - DEBUG - send_request_headers.complete
2025-03-11 01:27:36,698 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 01:27:36,698 - DEBUG - send_request_body.complete
2025-03-11 01:27:36,698 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 01:27:42,100 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 08:27:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5379'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 01:27:42,106 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 01:27:42,106 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 01:27:42,106 - DEBUG - receive_response_body.complete
2025-03-11 01:27:42,106 - DEBUG - response_closed.started
2025-03-11 01:27:42,106 - DEBUG - response_closed.complete
2025-03-11 01:27:42,106 - INFO - API call successful, writing result.
2025-03-11 01:27:42,106 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "The environmental data for the Mercer Island property indicates the presence of several significant hazards including erosion, potential landslide risk, ...
2025-03-11 01:27:42,106 - ERROR - No valid JSON object found in response: ```json\n{\n  "summary": "The environmental data for the Mercer Island property indicates the presence of several significant hazards including erosion, potential landslide risk, seismic activity, and proximity to a watercourse buffer. These factors pose considerable challenges to construction and require detailed geotechnical investigation, careful planning, and adherence to stringent regulatory requirements to ensure stability, safety, and environmental protection.",\n  "recommendations": [\n    "**Detailed Geotechnical Investigation:** Conduct a comprehensive site-specific geotechnical investigation to assess soil properties, slope stability, groundwater conditions, and seismic characteristics. This investigation should include borings, cone penetration tests (CPT), and laboratory testing of soil samples to determine soil strength parameters and susceptibility to liquefaction. (WSDOT Geotechnical Design Manual, Chapter 3; IBC 2021 Section 1803)",\n    "**Erosion Control Plan:** Develop and implement a comprehensive erosion and sediment control (ESC) plan in accordance with Washington State Department of Ecology (DOE) standards and the City of Mercer Island\'s regulations. This plan should address temporary and permanent erosion control measures, including silt fences, check dams, and vegetation establishment, to prevent soil loss and protect water quality during and after construction. (Washington State Department of Ecology Stormwater Management Manual for Western Washington, 2019; Mercer Island Municipal Code Title 19)",\n    "**Slope Stability Analysis:** Perform a detailed slope stability analysis considering static and seismic loading conditions. The analysis should evaluate the factor of safety against slope failure and identify potential areas of instability. Remedial measures, such as retaining walls, soil reinforcement, or slope flattening, may be required to improve slope stability. (WSDOT Geotechnical Design Manual, Chapter 6; ASCE 7-16 Chapter 11)",\n    "**Seismic Hazard Assessment:** Conduct a site-specific seismic hazard assessment to determine the design ground motion parameters for the site. The assessment should consider the potential for liquefaction, ground amplification, and other seismic hazards. The structure should be designed to resist seismic forces in accordance with the International Building Code (IBC) and ASCE 7. (IBC 2021 Section 1613; ASCE 7-16 Chapters 11, 12)",\n    "**Watercourse Buffer Protection:** Maintain and protect the watercourse buffer in accordance with City of Mercer Island regulations. Any construction activities within or near the buffer zone should be carefully planned and implemented to minimize impacts on the watercourse and its associated habitat. A buffer management plan may be required. (Mercer Island Municipal Code Title 19)",\n    "**Foundation Design:** Design the foundation system considering the soil conditions, slope stability, seismic hazards, and building loads. Deep foundations, such as piles or drilled shafts, may be required to provide adequate support if shallow foundations are not feasible. The foundation design should comply with the International Building Code (IBC) and ASCE 7. (IBC 2021 Section 1804; ASCE 7-16 Chapter 12)",\n    "**Retaining Wall Design:** If retaining walls are required for slope stabilization or to accommodate grade changes, they should be designed by a qualified geotechnical engineer. The retaining walls should be designed to resist soil pressures, hydrostatic pressures, and seismic forces. The design should comply with the International Building Code (IBC) and relevant industry standards. (IBC 2021 Section 1807; WSDOT Geotechnical Design Manual, Chapter 9)",\n    "**Risk Assessment and Mitigation:** Conduct a comprehensive risk assessment to identify potential geotechnical hazards and develop appropriate mitigation measures. The risk assessment should consider the likelihood and consequences of various hazards, such as slope failure, erosion, and seismic damage. Mitigation measures may include slope stabilization, erosion control, seismic design, and foundation improvements.",\n    "**Regulatory Compliance:** Ensure compliance with all applicable federal, state, and local regulations, including the International Building Code (IBC), the Washington State Department of Ecology (DOE) standards, and the City of Mercer Island\'s building codes and environmental regulations. Obtain all necessary permits and approvals before commencing construction."\n  ]\n}\n```
2025-03-11 01:27:42,106 - INFO - Starting slope analysis.
2025-03-11 01:27:42,106 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 01:27:42,116 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 01:27:42,116 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 01:27:42,116 - DEBUG - send_request_headers.complete
2025-03-11 01:27:42,116 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 01:27:42,124 - DEBUG - send_request_body.complete
2025-03-11 01:27:42,124 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 01:27:45,808 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 08:27:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3666'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 01:27:45,808 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 01:27:45,808 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 01:27:45,808 - DEBUG - receive_response_body.complete
2025-03-11 01:27:45,808 - DEBUG - response_closed.started
2025-03-11 01:27:45,808 - DEBUG - response_closed.complete
2025-03-11 01:27:45,808 - INFO - API call successful, writing result.
2025-03-11 01:27:45,821 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "Based on the provided average slope of 29.69 degrees and a maximum slope of 32.09 degrees for a property on Mercer Island, WA, a preliminary slope stabil...
2025-03-11 01:27:45,821 - ERROR - No valid JSON object found in response: ```json\n{\n  "summary": "Based on the provided average slope of 29.69 degrees and a maximum slope of 32.09 degrees for a property on Mercer Island, WA, a preliminary slope stability assessment indicates a potential risk of instability, particularly given Mercer Island\'s known geological conditions. Slopes exceeding approximately 27 degrees (a gradient of 0.5H:1V) generally warrant detailed geotechnical investigation according to industry best practices and can pose challenges for foundation design and construction due to increased soil creep, potential for landslides, and erosion hazards. The presence of glacial till, common in the Puget Sound region, can further complicate slope stability due to its heterogeneous composition and potential for perched water tables. This preliminary assessment suggests the need for a comprehensive geotechnical investigation to determine site-specific soil parameters and evaluate long-term slope stability.",\n  "recommendations": [\n    "Conduct a comprehensive geotechnical investigation that includes subsurface exploration (e.g., borings, test pits) to determine soil stratigraphy, groundwater conditions, and soil strength parameters (e.g., cohesion, friction angle).",\n    "Perform a detailed slope stability analysis using site-specific geotechnical data. This analysis should consider both static and dynamic (seismic) loading conditions, given Mercer Island\'s location in a seismic zone.",\n    "Evaluate the need for slope stabilization measures, such as retaining walls, soil nailing, or terracing, if the slope stability analysis indicates an unacceptable risk of failure. Any retaining wall design must comply with IBC Section 1807 and local Mercer Island building codes.",\n    "Assess the potential for surface water and groundwater infiltration to affect slope stability. Implement appropriate drainage measures to minimize water infiltration into the slope.",\n    "Design foundations that are adequately supported by stable soil or bedrock. Deep foundations (e.g., piles, drilled shafts) may be necessary if shallow soils are deemed unsuitable.",\n    "Develop an erosion and sediment control plan to minimize erosion during construction, in accordance with Washington State Department of Ecology regulations.",\n    "Monitor slope performance during and after construction to detect any signs of instability. This may involve installing inclinometers or surveying monuments.",\n    "Consult with a qualified geotechnical engineer licensed in Washington State to oversee the geotechnical investigation, slope stability analysis, and design of any necessary slope stabilization measures. This is in accordance with professional engineering standards and ethical considerations.",\n    "Evaluate the effect of seismic activity on slope stability per ASCE 7. The slope analysis should account for the increased forces during an earthquake."\n  ]\n}\n```
2025-03-11 01:27:45,821 - INFO - Starting feasibility report generation.
2025-03-11 01:27:45,824 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 01:27:45,824 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 01:27:45,824 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 01:27:45,824 - DEBUG - send_request_headers.complete
2025-03-11 01:27:45,824 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 01:27:45,824 - DEBUG - send_request_body.complete
2025-03-11 01:27:45,824 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 01:27:50,532 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 08:27:50 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4677'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 01:27:50,533 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 01:27:50,534 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 01:27:50,535 - DEBUG - receive_response_body.complete
2025-03-11 01:27:50,535 - DEBUG - response_closed.started
2025-03-11 01:27:50,536 - DEBUG - response_closed.complete
2025-03-11 01:27:50,537 - INFO - API call successful, writing result.
2025-03-11 01:27:50,539 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "location_analysis": {\n    "summary": "The provided data source failed to provide a valid JSON response, making a definitive summary of the environmental data for t...
2025-03-11 01:27:50,541 - DEBUG - Cleaned JSON: {\n "location_analysis": {\n "summary": "The provided data source failed to provide a valid JSON response, making a definitive summary of the environmental data for the Mercer Island property impossib...
2025-03-11 01:27:50,541 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: ```json\n{\n  "location_analysis": {\n    "summary": "The provided data source failed to provide a valid JSON response, making a definitive summary of the environmental data for the Mercer Island property impossible. A manual assessment by a qualified geotechnical engineer is required to gather and interpret relevant environmental hazard data specific to the site.",\n    "recommendations": [\n      "Conduct a thorough site investigation to identify any potential environmental hazards.",\n      "Review historical land use records to identify past activities that may have contaminated the soil or groundwater.",\n      "Consult with environmental regulatory agencies to determine if the site is subject to any environmental regulations or cleanup requirements.",\n      "Perform soil and groundwater sampling to assess the presence and extent of any contamination.",\n      "Based on the findings of the investigation, develop a remediation plan to address any identified environmental hazards."\n    ]\n  },\n  "slope_analysis": {\n    "summary": "The provided data source failed to provide a valid JSON response, preventing an automated analysis of the site\'s slope and topography. A manual assessment by a qualified geotechnical engineer, including a review of topographical maps and on-site surveying, is necessary to accurately determine slope stability and potential landslide risks.",\n    "recommendations": [\n      "Conduct a detailed topographic survey of the site to determine the slope angles and elevations.",\n      "Perform a slope stability analysis to assess the risk of landslides or slope failures, using appropriate geotechnical parameters for Mercer Island soils (e.g., glacial till).",\n      "Evaluate the presence of any existing retaining walls or other slope stabilization measures.",\n      "Assess the impact of construction activities on slope stability, including excavation, grading, and drainage.",\n      "Develop a slope stabilization plan to mitigate any identified risks, including retaining walls, soil nailing, or terracing. This plan must adhere to WSDOT guidelines and Mercer Island building codes."\n    ]\n  },\n  "overall_feasibility": "Based on the failed data retrieval from external tools, this geotechnical feasibility report is incomplete and cannot provide a definitive assessment of the property\'s overall feasibility without further investigation. A thorough site-specific geotechnical investigation, including subsurface exploration and laboratory testing, is required. Environmental and slope hazards are potential significant risks.",\n  "detailed_recommendations": [\n    "Engage a licensed geotechnical engineer to conduct a comprehensive site investigation, including subsurface exploration (e.g., borings, test pits) and laboratory testing of soil samples. This is critical to characterize the soil profile, groundwater conditions, and soil strength parameters.",\n    "Perform a site-specific seismic hazard analysis per IBC requirements to determine the appropriate seismic design parameters for the structure, considering Mercer Island\'s location in a seismic zone.",\n    "Evaluate the bearing capacity of the soil and provide recommendations for foundation design, considering the presence of potentially weak or compressible soils (e.g., peat, organic soils).",\n    "Assess the potential for liquefaction and lateral spreading during a seismic event and develop mitigation measures if necessary, in accordance with ASCE 7.",\n    "Design appropriate drainage systems to manage surface water runoff and groundwater infiltration, preventing potential slope instability and foundation problems.",\n    "Comply with all applicable Washington State building codes and Mercer Island local regulations regarding geotechnical engineering and construction.",\n    "Develop an erosion and sediment control plan to minimize soil erosion and prevent sedimentation of nearby water bodies during construction. Consult the Washington State Department of Ecology (DOE) guidelines.",\n    "Monitor slope stability during and after construction to detect any signs of movement or instability. Implement contingency plans if necessary.",\n    "Retain all geotechnical reports and documentation for future reference and potential regulatory review."\n  ]\n}\n```
2025-03-11 02:01:45,372 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 02:01:45,390 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 02:01:45,444 - INFO - Write permissions confirmed.
2025-03-11 02:01:45,461 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 02:01:45,461 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 02:01:45,476 - INFO - Gemini model initialized successfully.
2025-03-11 02:01:51,644 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 02:01:51,644 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 02:01:52,036 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 02:02:33,773 - INFO - Starting location analysis.
2025-03-11 02:02:33,773 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 02:02:34,407 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 02:02:34,407 - DEBUG - Using selector: SelectSelector
2025-03-11 02:02:34,508 - DEBUG - close.started
2025-03-11 02:02:34,508 - DEBUG - close.complete
2025-03-11 02:02:34,516 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 02:02:34,626 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210507B1A30>
2025-03-11 02:02:34,626 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 02:02:34,741 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021050DC8B60>
2025-03-11 02:02:34,743 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 02:02:34,750 - DEBUG - send_request_headers.complete
2025-03-11 02:02:34,750 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 02:02:34,753 - DEBUG - send_request_body.complete
2025-03-11 02:02:34,753 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 02:02:39,881 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 09:02:39 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4749'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 02:02:40,073 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 02:02:40,089 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 02:02:40,120 - DEBUG - receive_response_body.complete
2025-03-11 02:02:40,127 - DEBUG - response_closed.started
2025-03-11 02:02:40,127 - DEBUG - response_closed.complete
2025-03-11 02:02:40,287 - INFO - API call successful, writing result.
2025-03-11 02:02:40,303 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "This geotechnical analysis addresses the environmental hazards identified for a property on Mercer Island, Washington. The environmental data indicates t...
2025-03-11 02:02:40,372 - DEBUG - Cleaned JSON: {\n "summary": "This geotechnical analysis addresses the environmental hazards identified for a property on Mercer Island, Washington. The environmental data indicates the presence of erosion, potenti...
2025-03-11 02:02:40,393 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: AgentRunResult(data='```json\n{\n  "summary": "This geotechnical analysis addresses the environmental hazards identified for a property on Mercer Island, Washington. The environmental data indicates t...
2025-03-11 02:02:40,427 - INFO - Starting slope analysis.
2025-03-11 02:02:40,433 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 02:02:40,437 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 02:02:40,457 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 02:02:40,457 - DEBUG - send_request_headers.complete
2025-03-11 02:02:40,457 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 02:02:40,457 - DEBUG - send_request_body.complete
2025-03-11 02:02:40,457 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 02:02:46,860 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 09:02:46 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=6372'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 02:02:46,860 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 02:02:46,860 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 02:02:46,865 - DEBUG - receive_response_body.complete
2025-03-11 02:02:46,865 - DEBUG - response_closed.started
2025-03-11 02:02:46,865 - DEBUG - response_closed.complete
2025-03-11 02:02:46,871 - INFO - API call successful, writing result.
2025-03-11 02:02:46,876 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "The provided slope data indicates a moderately steep slope with an average of 29.69 degrees and a maximum of 32.09 degrees. Based on these values, the sl...
2025-03-11 02:02:46,878 - DEBUG - Cleaned JSON: {\n "summary": "The provided slope data indicates a moderately steep slope with an average of 29.69 degrees and a maximum of 32.09 degrees. Based on these values, the slope is considered potentially u...
2025-03-11 02:02:46,879 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: AgentRunResult(data='```json\n{\n  "summary": "The provided slope data indicates a moderately steep slope with an average of 29.69 degrees and a maximum of 32.09 degrees. Based on these values, the sl...
2025-03-11 02:02:46,885 - INFO - Starting feasibility report generation.
2025-03-11 02:02:46,888 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 02:02:46,898 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 02:02:46,906 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 02:02:46,907 - DEBUG - send_request_headers.complete
2025-03-11 02:02:46,907 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 02:02:46,908 - DEBUG - send_request_body.complete
2025-03-11 02:02:46,908 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 02:02:51,833 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 09:02:51 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4904'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 02:02:51,833 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 02:02:51,834 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 02:02:51,835 - DEBUG - receive_response_body.complete
2025-03-11 02:02:51,836 - DEBUG - response_closed.started
2025-03-11 02:02:51,836 - DEBUG - response_closed.complete
2025-03-11 02:02:51,841 - INFO - API call successful, writing result.
2025-03-11 02:02:51,843 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "location_analysis": {\n    "summary": "Analysis failed due to invalid JSON response from external API, preventing a location-specific hazard assessment. A thorough ...
2025-03-11 02:02:51,846 - DEBUG - Cleaned JSON: {\n "location_analysis": {\n "summary": "Analysis failed due to invalid JSON response from external API, preventing a location-specific hazard assessment. A thorough site investigation is required to ...
2025-03-11 02:02:51,846 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: AgentRunResult(data='```json\n{\n  "location_analysis": {\n    "summary": "Analysis failed due to invalid JSON response from external API, preventing a location-specific hazard assessment. A thorough ...
2025-03-11 02:08:59,275 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 02:08:59,280 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 02:08:59,340 - INFO - Write permissions confirmed.
2025-03-11 02:08:59,346 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 02:08:59,346 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 02:08:59,356 - INFO - Gemini model initialized successfully.
2025-03-11 02:09:05,561 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 02:09:05,561 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 02:09:05,969 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 02:09:45,348 - INFO - Starting location analysis.
2025-03-11 02:09:45,348 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 02:09:45,441 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 02:09:45,683 - DEBUG - Using selector: SelectSelector
2025-03-11 02:09:45,704 - DEBUG - close.started
2025-03-11 02:09:45,704 - DEBUG - close.complete
2025-03-11 02:09:45,704 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 02:09:45,768 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210536A4980>
2025-03-11 02:09:45,768 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 02:09:45,804 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104A2F9A60>
2025-03-11 02:09:45,804 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 02:09:45,804 - DEBUG - send_request_headers.complete
2025-03-11 02:09:45,804 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 02:09:45,805 - DEBUG - send_request_body.complete
2025-03-11 02:09:45,805 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 02:09:51,968 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 09:09:51 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=6141'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 02:09:51,970 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 02:09:51,971 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 02:09:51,973 - DEBUG - receive_response_body.complete
2025-03-11 02:09:51,973 - DEBUG - response_closed.started
2025-03-11 02:09:51,973 - DEBUG - response_closed.complete
2025-03-11 02:09:51,976 - INFO - API call successful, writing result.
2025-03-11 02:09:51,976 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "This geotechnical analysis section addresses the environmental hazards identified for a property on Mercer Island, WA. The environmental data indicates t...
2025-03-11 02:09:51,976 - DEBUG - Cleaned JSON: {\n "summary": "This geotechnical analysis section addresses the environmental hazards identified for a property on Mercer Island, WA. The environmental data indicates the presence of erosion, potenti...
2025-03-11 02:09:51,976 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: AgentRunResult(data='```json\n{\n  "summary": "This geotechnical analysis section addresses the environmental hazards identified for a property on Mercer Island, WA. The environmental data indicates t...
2025-03-11 02:09:51,976 - INFO - Starting slope analysis.
2025-03-11 02:09:51,976 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 02:09:51,976 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 02:09:51,976 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 02:09:51,976 - DEBUG - send_request_headers.complete
2025-03-11 02:09:51,976 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 02:09:51,976 - DEBUG - send_request_body.complete
2025-03-11 02:09:51,976 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 02:09:56,780 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 09:09:56 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4777'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 02:09:56,780 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 02:09:56,780 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 02:09:56,780 - DEBUG - receive_response_body.complete
2025-03-11 02:09:56,780 - DEBUG - response_closed.started
2025-03-11 02:09:56,780 - DEBUG - response_closed.complete
2025-03-11 02:09:56,780 - INFO - API call successful, writing result.
2025-03-11 02:09:56,955 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n    "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property on Mercer Island exhibits moderately...
2025-03-11 02:09:56,955 - DEBUG - Cleaned JSON: {\n "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property on Mercer Island exhibits moderately steep slopes. These slope angles...
2025-03-11 02:09:56,955 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: AgentRunResult(data='```json\n{\n    "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property on Mercer Island exhibits moderately...
2025-03-11 02:09:56,955 - INFO - Starting feasibility report generation.
2025-03-11 02:09:56,955 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 02:09:57,252 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 02:09:57,548 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 02:09:57,548 - DEBUG - send_request_headers.complete
2025-03-11 02:09:57,548 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 02:09:57,548 - DEBUG - send_request_body.complete
2025-03-11 02:09:57,548 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 02:10:02,178 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 09:10:02 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4601'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 02:10:02,179 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 02:10:02,179 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 02:10:02,179 - DEBUG - receive_response_body.complete
2025-03-11 02:10:02,179 - DEBUG - response_closed.started
2025-03-11 02:10:02,179 - DEBUG - response_closed.complete
2025-03-11 02:10:02,179 - INFO - API call successful, writing result.
2025-03-11 02:10:02,187 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n    "location_analysis": {\n        "summary": "Analysis of the specific Mercer Island property location could not be completed without knowing the address/coordinates...
2025-03-11 02:10:02,188 - DEBUG - Cleaned JSON: {\n "location_analysis": {\n "summary": "Analysis of the specific Mercer Island property location could not be completed without knowing the address/coordinates. This section *would* typically cover t...
2025-03-11 02:10:02,189 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: AgentRunResult(data='```json\n{\n    "location_analysis": {\n        "summary": "Analysis of the specific Mercer Island property location could not be completed without knowing the address/coordinates...
2025-03-11 03:08:09,349 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 03:08:09,365 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 03:08:09,464 - INFO - Write permissions confirmed.
2025-03-11 03:08:09,484 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 03:08:09,484 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 03:08:09,517 - INFO - Gemini model initialized successfully.
2025-03-11 03:08:20,609 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 03:08:20,609 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 03:08:21,029 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 03:09:02,934 - INFO - Starting location analysis.
2025-03-11 03:09:02,993 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 03:09:03,033 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 03:09:03,036 - DEBUG - Using selector: SelectSelector
2025-03-11 03:09:03,036 - DEBUG - close.started
2025-03-11 03:09:03,036 - DEBUG - close.complete
2025-03-11 03:09:03,036 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 03:09:03,088 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104F49F6B0>
2025-03-11 03:09:03,088 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 03:09:03,128 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104F49F8F0>
2025-03-11 03:09:03,128 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:09:03,129 - DEBUG - send_request_headers.complete
2025-03-11 03:09:03,129 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:09:03,129 - DEBUG - send_request_body.complete
2025-03-11 03:09:03,129 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:09:08,475 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:09:08 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4891'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:09:09,877 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:09:10,153 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:09:10,458 - DEBUG - receive_response_body.complete
2025-03-11 03:09:10,458 - DEBUG - response_closed.started
2025-03-11 03:09:10,459 - DEBUG - response_closed.complete
2025-03-11 03:09:11,436 - INFO - API call successful, writing result.
2025-03-11 03:09:11,495 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "This preliminary geotechnical analysis assesses the environmental hazards associated with a property on Mercer Island, WA, based on the provided environm...
2025-03-11 03:09:11,531 - DEBUG - Cleaned JSON: {\n "summary": "This preliminary geotechnical analysis assesses the environmental hazards associated with a property on Mercer Island, WA, based on the provided environmental data. The presence of ero...
2025-03-11 03:09:11,531 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: ```json\n{\n  "summary": "This preliminary geotechnical analysis assesses the environmental hazards associated with a property on Mercer Island, WA, based on the provided environmental data. The prese...
2025-03-11 03:09:11,532 - INFO - Starting slope analysis.
2025-03-11 03:09:11,532 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 03:09:11,563 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 03:09:11,565 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:09:11,566 - DEBUG - send_request_headers.complete
2025-03-11 03:09:11,566 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:09:11,566 - DEBUG - send_request_body.complete
2025-03-11 03:09:11,566 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:09:15,993 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:09:15 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4404'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:09:15,994 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:09:15,994 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:09:15,996 - DEBUG - receive_response_body.complete
2025-03-11 03:09:15,996 - DEBUG - response_closed.started
2025-03-11 03:09:15,996 - DEBUG - response_closed.complete
2025-03-11 03:09:15,997 - INFO - API call successful, writing result.
2025-03-11 03:09:15,998 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "Based on the provided slope data (average slope: 29.69 degrees, maximum slope: 32.09 degrees) for a property on Mercer Island, Washington, a preliminary ...
2025-03-11 03:09:15,999 - DEBUG - Cleaned JSON: {\n "summary": "Based on the provided slope data (average slope: 29.69 degrees, maximum slope: 32.09 degrees) for a property on Mercer Island, Washington, a preliminary slope stability assessment indi...
2025-03-11 03:09:15,999 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: ```json\n{\n  "summary": "Based on the provided slope data (average slope: 29.69 degrees, maximum slope: 32.09 degrees) for a property on Mercer Island, Washington, a preliminary slope stability asses...
2025-03-11 03:09:15,999 - INFO - Starting feasibility report generation.
2025-03-11 03:09:16,000 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 03:09:16,001 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 03:09:16,003 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:09:16,004 - DEBUG - send_request_headers.complete
2025-03-11 03:09:16,004 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:09:16,005 - DEBUG - send_request_body.complete
2025-03-11 03:09:16,005 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:09:20,599 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:09:20 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4576'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:09:20,599 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:09:20,599 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:09:20,604 - DEBUG - receive_response_body.complete
2025-03-11 03:09:20,604 - DEBUG - response_closed.started
2025-03-11 03:09:20,604 - DEBUG - response_closed.complete
2025-03-11 03:09:20,604 - INFO - API call successful, writing result.
2025-03-11 03:09:20,610 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "location_analysis": {\n    "summary": "Analysis failed due to the inability to access specific property data without an actual address or survey. A general assessme...
2025-03-11 03:09:20,610 - DEBUG - Cleaned JSON: {\n "location_analysis": {\n "summary": "Analysis failed due to the inability to access specific property data without an actual address or survey. A general assessment of Mercer Island\'s geological ...
2025-03-11 03:09:20,610 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: ```json\n{\n  "location_analysis": {\n    "summary": "Analysis failed due to the inability to access specific property data without an actual address or survey. A general assessment of Mercer Island\'...
2025-03-11 03:13:11,160 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 03:13:11,160 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 03:13:11,199 - INFO - Write permissions confirmed.
2025-03-11 03:13:11,208 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 03:13:11,208 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 03:13:11,210 - INFO - Gemini model initialized successfully.
2025-03-11 03:13:17,799 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 03:13:17,800 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 03:13:18,316 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 03:13:59,485 - INFO - Starting location analysis.
2025-03-11 03:13:59,486 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 03:13:59,602 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 03:13:59,602 - DEBUG - Using selector: SelectSelector
2025-03-11 03:13:59,617 - DEBUG - close.started
2025-03-11 03:13:59,617 - DEBUG - close.complete
2025-03-11 03:13:59,617 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 03:13:59,669 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104F1AD520>
2025-03-11 03:13:59,669 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 03:13:59,694 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104F1AD7F0>
2025-03-11 03:13:59,694 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:13:59,694 - DEBUG - send_request_headers.complete
2025-03-11 03:13:59,694 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:13:59,694 - DEBUG - send_request_body.complete
2025-03-11 03:13:59,694 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:14:05,622 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:14:05 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5895'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:14:05,637 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:14:05,638 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:14:05,645 - DEBUG - receive_response_body.complete
2025-03-11 03:14:05,645 - DEBUG - response_closed.started
2025-03-11 03:14:05,645 - DEBUG - response_closed.complete
2025-03-11 03:14:05,692 - INFO - API call successful, writing result.
2025-03-11 03:14:05,699 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "The provided environmental data indicates that the Mercer Island property is subject to several geotechnical and environmental hazards that require caref...
2025-03-11 03:14:05,699 - DEBUG - Extracted JSON before cleaning: {\n  "summary": "The provided environmental data indicates that the Mercer Island property is subject to several geotechnical and environmental hazards that require careful consideration during the fe...
2025-03-11 03:14:05,699 - DEBUG - Cleaned JSON: {\n "summary": "The provided environmental data indicates that the Mercer Island property is subject to several geotechnical and environmental hazards that require careful consideration during the fea...
2025-03-11 03:14:05,699 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: ```json\n{\n  "summary": "The provided environmental data indicates that the Mercer Island property is subject to several geotechnical and environmental hazards that require careful consideration duri...
2025-03-11 03:14:05,700 - INFO - Starting slope analysis.
2025-03-11 03:14:05,700 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 03:14:05,702 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 03:14:05,705 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:14:05,706 - DEBUG - send_request_headers.complete
2025-03-11 03:14:05,706 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:14:05,706 - DEBUG - send_request_body.complete
2025-03-11 03:14:05,706 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:14:09,559 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:14:09 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3846'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:14:09,559 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:14:09,559 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:14:09,575 - DEBUG - receive_response_body.complete
2025-03-11 03:14:09,575 - DEBUG - response_closed.started
2025-03-11 03:14:09,575 - DEBUG - response_closed.complete
2025-03-11 03:14:09,575 - INFO - API call successful, writing result.
2025-03-11 03:14:09,575 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "Based on the provided slope data (average slope of 29.69 degrees and a maximum slope of 32.09 degrees), the property on Mercer Island exhibits moderately...
2025-03-11 03:14:09,575 - DEBUG - Extracted JSON before cleaning: {\n  "summary": "Based on the provided slope data (average slope of 29.69 degrees and a maximum slope of 32.09 degrees), the property on Mercer Island exhibits moderately steep terrain. This slope con...
2025-03-11 03:14:09,575 - DEBUG - Cleaned JSON: {\n "summary": "Based on the provided slope data (average slope of 29.69 degrees and a maximum slope of 32.09 degrees), the property on Mercer Island exhibits moderately steep terrain. This slope cond...
2025-03-11 03:14:09,575 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: ```json\n{\n  "summary": "Based on the provided slope data (average slope of 29.69 degrees and a maximum slope of 32.09 degrees), the property on Mercer Island exhibits moderately steep terrain. This ...
2025-03-11 03:14:09,575 - INFO - Starting feasibility report generation.
2025-03-11 03:14:09,575 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 03:14:09,575 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 03:14:09,575 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:14:09,591 - DEBUG - send_request_headers.complete
2025-03-11 03:14:09,591 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:14:09,591 - DEBUG - send_request_body.complete
2025-03-11 03:14:09,591 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:14:14,229 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:14:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4621'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:14:14,229 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:14:14,229 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:14:14,229 - DEBUG - receive_response_body.complete
2025-03-11 03:14:14,229 - DEBUG - response_closed.started
2025-03-11 03:14:14,229 - DEBUG - response_closed.complete
2025-03-11 03:14:14,229 - INFO - API call successful, writing result.
2025-03-11 03:14:14,244 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "location_analysis": {\n    "summary": "Analysis failed due to lack of specific site coordinates and geological data. A general assessment based on Mercer Island\'s ...
2025-03-11 03:14:14,244 - DEBUG - Extracted JSON before cleaning: {\n  "location_analysis": {\n    "summary": "Analysis failed due to lack of specific site coordinates and geological data. A general assessment based on Mercer Island\'s known geology indicates potent...
2025-03-11 03:14:14,245 - DEBUG - Cleaned JSON: {\n "location_analysis": {\n "summary": "Analysis failed due to lack of specific site coordinates and geological data. A general assessment based on Mercer Island\'s known geology indicates potential ...
2025-03-11 03:14:14,246 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: ```json\n{\n  "location_analysis": {\n    "summary": "Analysis failed due to lack of specific site coordinates and geological data. A general assessment based on Mercer Island\'s known geology indicat...
2025-03-11 03:19:16,095 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 03:19:16,095 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 03:19:16,128 - INFO - Write permissions confirmed.
2025-03-11 03:19:16,128 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 03:19:16,128 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 03:19:16,128 - INFO - Gemini model initialized successfully.
2025-03-11 03:19:21,401 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 03:19:21,401 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 03:19:21,912 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 03:19:59,476 - INFO - Starting location analysis.
2025-03-11 03:19:59,476 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 03:19:59,537 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 03:19:59,537 - DEBUG - Using selector: SelectSelector
2025-03-11 03:19:59,552 - DEBUG - close.started
2025-03-11 03:19:59,552 - DEBUG - close.complete
2025-03-11 03:19:59,552 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 03:19:59,620 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002105B984980>
2025-03-11 03:19:59,621 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 03:19:59,653 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104ECB58B0>
2025-03-11 03:19:59,653 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:19:59,654 - DEBUG - send_request_headers.complete
2025-03-11 03:19:59,654 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:19:59,654 - DEBUG - send_request_body.complete
2025-03-11 03:19:59,654 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:20:04,069 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:20:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4364'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:20:04,181 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:20:04,210 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:20:04,268 - DEBUG - receive_response_body.complete
2025-03-11 03:20:04,268 - DEBUG - response_closed.started
2025-03-11 03:20:04,268 - DEBUG - response_closed.complete
2025-03-11 03:20:04,524 - INFO - API call successful, writing result.
2025-03-11 03:20:04,524 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "This geotechnical analysis identifies several environmental hazards at the Mercer Island property that could significantly impact construction feasibilit...
2025-03-11 03:20:04,524 - DEBUG - Extracted JSON before cleaning: {\n  "summary": "This geotechnical analysis identifies several environmental hazards at the Mercer Island property that could significantly impact construction feasibility and costs. The presence of e...
2025-03-11 03:20:04,524 - DEBUG - JSON after newline removal: {\n  "summary": "This geotechnical analysis identifies several environmental hazards at the Mercer Island property that could significantly impact construction feasibility and costs. The presence of e...
2025-03-11 03:20:04,524 - DEBUG - Cleaned JSON: {\n "summary": "This geotechnical analysis identifies several environmental hazards at the Mercer Island property that could significantly impact construction feasibility and costs. The presence of er...
2025-03-11 03:20:04,524 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: AgentRunResult(data='```json\n{\n  "summary": "This geotechnical analysis identifies several environmental hazards at the Mercer Island property that could significantly impact construction feasibilit...
2025-03-11 03:20:04,524 - INFO - Starting slope analysis.
2025-03-11 03:20:04,524 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 03:20:04,524 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 03:20:04,538 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:20:04,540 - DEBUG - send_request_headers.complete
2025-03-11 03:20:04,540 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:20:04,540 - DEBUG - send_request_body.complete
2025-03-11 03:20:04,540 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:20:08,591 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:20:08 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4034'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:20:08,591 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:20:08,591 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:20:08,591 - DEBUG - receive_response_body.complete
2025-03-11 03:20:08,591 - DEBUG - response_closed.started
2025-03-11 03:20:08,591 - DEBUG - response_closed.complete
2025-03-11 03:20:08,591 - INFO - API call successful, writing result.
2025-03-11 03:20:08,591 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "summary": "The provided slope data indicates a moderately steep slope condition on the Mercer Island property, with an average slope of 29.69 degrees and a maximum ...
2025-03-11 03:20:08,591 - DEBUG - Extracted JSON before cleaning: {\n  "summary": "The provided slope data indicates a moderately steep slope condition on the Mercer Island property, with an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. This s...
2025-03-11 03:20:08,591 - DEBUG - JSON after newline removal: {\n  "summary": "The provided slope data indicates a moderately steep slope condition on the Mercer Island property, with an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. This s...
2025-03-11 03:20:08,591 - DEBUG - Cleaned JSON: {\n "summary": "The provided slope data indicates a moderately steep slope condition on the Mercer Island property, with an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. This sl...
2025-03-11 03:20:08,591 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: AgentRunResult(data='```json\n{\n  "summary": "The provided slope data indicates a moderately steep slope condition on the Mercer Island property, with an average slope of 29.69 degrees and a maximum ...
2025-03-11 03:20:08,606 - INFO - Starting feasibility report generation.
2025-03-11 03:20:08,606 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 03:20:08,606 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 03:20:08,606 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:20:08,606 - DEBUG - send_request_headers.complete
2025-03-11 03:20:08,606 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:20:08,606 - DEBUG - send_request_body.complete
2025-03-11 03:20:08,606 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:20:13,129 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:20:13 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4500'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:20:13,129 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:20:13,129 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:20:13,129 - DEBUG - receive_response_body.complete
2025-03-11 03:20:13,129 - DEBUG - response_closed.started
2025-03-11 03:20:13,129 - DEBUG - response_closed.complete
2025-03-11 03:20:13,129 - INFO - API call successful, writing result.
2025-03-11 03:20:13,145 - DEBUG - Attempting to parse raw response: AgentRunResult(data='```json\n{\n  "location_analysis": {\n    "summary": "Analysis of the property\'s location on Mercer Island could not be completed with the available data. A comprehensive site-sp...
2025-03-11 03:20:13,145 - DEBUG - Extracted JSON before cleaning: {\n  "location_analysis": {\n    "summary": "Analysis of the property\'s location on Mercer Island could not be completed with the available data. A comprehensive site-specific geological survey is ne...
2025-03-11 03:20:13,145 - DEBUG - JSON after newline removal: {\n  "location_analysis": {\n    "summary": "Analysis of the property\'s location on Mercer Island could not be completed with the available data. A comprehensive site-specific geological survey is ne...
2025-03-11 03:20:13,148 - DEBUG - Cleaned JSON: {\n "location_analysis": {\n "summary": "Analysis of the property\'s location on Mercer Island could not be completed with the available data. A comprehensive site-specific geological survey is necess...
2025-03-11 03:20:13,149 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: AgentRunResult(data='```json\n{\n  "location_analysis": {\n    "summary": "Analysis of the property\'s location on Mercer Island could not be completed with the available data. A comprehensive site-sp...
2025-03-11 03:56:23,676 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 03:56:23,681 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 03:56:23,750 - INFO - Write permissions confirmed.
2025-03-11 03:56:23,756 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 03:56:23,756 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 03:56:23,768 - INFO - Gemini model initialized successfully.
2025-03-11 03:56:33,878 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 03:56:33,893 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 03:56:34,326 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 03:57:14,322 - INFO - Starting location analysis.
2025-03-11 03:57:14,322 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 03:57:14,437 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 03:57:14,437 - DEBUG - Using selector: SelectSelector
2025-03-11 03:57:14,437 - DEBUG - close.started
2025-03-11 03:57:14,437 - DEBUG - close.complete
2025-03-11 03:57:14,437 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 03:57:14,519 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104FFC97C0>
2025-03-11 03:57:14,519 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 03:57:14,637 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210581CF950>
2025-03-11 03:57:14,637 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:57:14,637 - DEBUG - send_request_headers.complete
2025-03-11 03:57:14,637 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:57:14,637 - DEBUG - send_request_body.complete
2025-03-11 03:57:14,637 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:57:20,023 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:57:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5231'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:57:20,124 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:57:20,155 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:57:20,245 - DEBUG - receive_response_body.complete
2025-03-11 03:57:20,245 - DEBUG - response_closed.started
2025-03-11 03:57:20,245 - DEBUG - response_closed.complete
2025-03-11 03:57:21,082 - INFO - API call successful, writing result.
2025-03-11 03:57:21,108 - DEBUG - Attempting to parse raw response (repr): 'AgentRunResult(data=\'```json\\n{\\n  "summary": "The environmental data for the Mercer Island, WA location indicates the presence of significant potential hazards including erosion, landslides, seis...
2025-03-11 03:57:21,108 - DEBUG - Extracted JSON before cleaning (repr): '{\\n  "summary": "The environmental data for the Mercer Island, WA location indicates the presence of significant potential hazards including erosion, landslides, seismic activity, and proximity to a...
2025-03-11 03:57:21,112 - DEBUG - JSON after newline removal (repr): '{\\n  "summary": "The environmental data for the Mercer Island, WA location indicates the presence of significant potential hazards including erosion, landslides, seismic activity, and proximity to a...
2025-03-11 03:57:21,112 - DEBUG - Cleaned JSON (repr): '{\\n "summary": "The environmental data for the Mercer Island, WA location indicates the presence of significant potential hazards including erosion, landslides, seismic activity, and proximity to a ...
2025-03-11 03:57:21,126 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: 'AgentRunResult(data=\'```json\\n{\\n  "summary": "The environmental data for the Mercer Island, WA location indicates the presence of significant potential hazards including erosion, landslides, seis...
2025-03-11 03:57:21,293 - INFO - Starting slope analysis.
2025-03-11 03:57:21,293 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 03:57:21,327 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 03:57:21,327 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:57:21,327 - DEBUG - send_request_headers.complete
2025-03-11 03:57:21,327 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:57:21,327 - DEBUG - send_request_body.complete
2025-03-11 03:57:21,327 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:57:25,723 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:57:25 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4363'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:57:25,723 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:57:25,724 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:57:25,725 - DEBUG - receive_response_body.complete
2025-03-11 03:57:25,725 - DEBUG - response_closed.started
2025-03-11 03:57:25,726 - DEBUG - response_closed.complete
2025-03-11 03:57:25,763 - INFO - API call successful, writing result.
2025-03-11 03:57:25,801 - DEBUG - Attempting to parse raw response (repr): 'AgentRunResult(data=\'```json\\n{\\n  "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property in Mercer Island, WA, presents pot...
2025-03-11 03:57:25,801 - DEBUG - Extracted JSON before cleaning (repr): '{\\n  "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property in Mercer Island, WA, presents potential geotechnical challenges r...
2025-03-11 03:57:25,801 - DEBUG - JSON after newline removal (repr): '{\\n  "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property in Mercer Island, WA, presents potential geotechnical challenges r...
2025-03-11 03:57:25,802 - DEBUG - Cleaned JSON (repr): '{\\n "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property in Mercer Island, WA, presents potential geotechnical challenges re...
2025-03-11 03:57:25,802 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: 'AgentRunResult(data=\'```json\\n{\\n  "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property in Mercer Island, WA, presents pot...
2025-03-11 03:57:25,803 - INFO - Starting feasibility report generation.
2025-03-11 03:57:25,804 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 03:57:25,843 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 03:57:25,889 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 03:57:25,889 - DEBUG - send_request_headers.complete
2025-03-11 03:57:25,890 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 03:57:25,890 - DEBUG - send_request_body.complete
2025-03-11 03:57:25,890 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 03:57:28,944 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 10:57:28 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=2971'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 03:57:28,947 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 03:57:28,947 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 03:57:28,948 - DEBUG - receive_response_body.complete
2025-03-11 03:57:28,948 - DEBUG - response_closed.started
2025-03-11 03:57:28,948 - DEBUG - response_closed.complete
2025-03-11 03:57:28,949 - INFO - API call successful, writing result.
2025-03-11 03:57:28,950 - DEBUG - Attempting to parse raw response (repr): 'AgentRunResult(data=\'```json\\n{\\n    "location_analysis": {\\n        "summary": "Analysis of environmental data failed due to an invalid JSON response from the data source. A manual assessment by...
2025-03-11 03:57:28,951 - DEBUG - Extracted JSON before cleaning (repr): '{\\n    "location_analysis": {\\n        "summary": "Analysis of environmental data failed due to an invalid JSON response from the data source. A manual assessment by a geotechnical engineer is requ...
2025-03-11 03:57:28,951 - DEBUG - JSON after newline removal (repr): '{\\n    "location_analysis": {\\n        "summary": "Analysis of environmental data failed due to an invalid JSON response from the data source. A manual assessment by a geotechnical engineer is requ...
2025-03-11 03:57:28,951 - DEBUG - Cleaned JSON (repr): '{\\n "location_analysis": {\\n "summary": "Analysis of environmental data failed due to an invalid JSON response from the data source. A manual assessment by a geotechnical engineer is required to de...
2025-03-11 03:57:28,951 - ERROR - JSON parsing error: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Raw response: 'AgentRunResult(data=\'```json\\n{\\n    "location_analysis": {\\n        "summary": "Analysis of environmental data failed due to an invalid JSON response from the data source. A manual assessment by...
2025-03-11 04:27:49,922 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 04:27:49,925 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 04:27:49,982 - INFO - Write permissions confirmed.
2025-03-11 04:27:49,993 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 04:27:49,993 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 04:27:50,008 - INFO - Gemini model initialized successfully.
2025-03-11 04:27:53,865 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 04:27:53,878 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 04:27:54,286 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 04:28:34,673 - INFO - Starting location analysis.
2025-03-11 04:28:34,684 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 04:28:34,806 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 04:28:34,806 - DEBUG - Using selector: SelectSelector
2025-03-11 04:28:34,838 - DEBUG - close.started
2025-03-11 04:28:34,838 - DEBUG - close.complete
2025-03-11 04:28:34,838 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 04:28:35,021 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104E6C8B90>
2025-03-11 04:28:35,021 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 04:28:35,131 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104E6C8E60>
2025-03-11 04:28:35,131 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 04:28:35,131 - DEBUG - send_request_headers.complete
2025-03-11 04:28:35,131 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 04:28:35,147 - DEBUG - send_request_body.complete
2025-03-11 04:28:35,148 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 04:28:40,782 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 11:28:40 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5467'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 04:28:41,042 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 04:28:41,120 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 04:28:41,219 - DEBUG - receive_response_body.complete
2025-03-11 04:28:41,220 - DEBUG - response_closed.started
2025-03-11 04:28:41,221 - DEBUG - response_closed.complete
2025-03-11 04:28:41,473 - INFO - API call successful, writing result.
2025-03-11 04:28:41,479 - DEBUG - Attempting to parse raw response (repr): 'AgentRunResult(data=\'```json\\n{\\n  "summary": "Based on the provided environmental data, the proposed construction site on Mercer Island presents several significant geotechnical and environmental...
2025-03-11 04:28:41,482 - DEBUG - Extracted data field (repr): '```json\\n{\\n  "summary": "Based on the provided environmental data, the proposed construction site on Mercer Island presents several significant geotechnical and environmental challenges. The prese...
2025-03-11 04:28:41,486 - DEBUG - Cleaned JSON after whitespace removal (repr): '\\n{\\n"summary":"Based on the provided environmental data, the proposed construction site on Mercer Island presents several significant geotechnical and environmental challenges. The presence of ero...
2025-03-11 04:28:41,489 - ERROR - Initial JSON parsing error: Expecting value: line 1 column 1 (char 0), Cleaned JSON: '\\n{\\n"summary":"Based on the provided environmental data, the proposed construction site on Mercer Island presents several significant geotechnical and environmental challenges. The presence of ero...
2025-03-11 04:28:41,489 - ERROR - Fallback JSON parsing error: Expecting value: line 1 column 1 (char 0), Fallback JSON: '\\n{\\n  "summary": "Based on the provided environmental data, the proposed construction site on Mercer Island presents several significant geotechnical and environmental challenges. The presence of ...
2025-03-11 04:28:41,508 - INFO - Starting slope analysis.
2025-03-11 04:28:41,508 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 04:28:41,512 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 04:28:41,515 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 04:28:41,516 - DEBUG - send_request_headers.complete
2025-03-11 04:28:41,516 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 04:28:41,517 - DEBUG - send_request_body.complete
2025-03-11 04:28:41,517 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 04:28:46,012 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 11:28:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4455'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 04:28:46,013 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 04:28:46,013 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 04:28:46,014 - DEBUG - receive_response_body.complete
2025-03-11 04:28:46,015 - DEBUG - response_closed.started
2025-03-11 04:28:46,015 - DEBUG - response_closed.complete
2025-03-11 04:28:46,017 - INFO - API call successful, writing result.
2025-03-11 04:28:46,018 - DEBUG - Attempting to parse raw response (repr): 'AgentRunResult(data=\'```json\\n{\\n  "summary": "Based on the provided average slope of 29.69 degrees and maximum slope of 32.09 degrees, the property presents a moderate to high slope condition. Th...
2025-03-11 04:28:46,019 - DEBUG - Extracted data field (repr): '```json\\n{\\n  "summary": "Based on the provided average slope of 29.69 degrees and maximum slope of 32.09 degrees, the property presents a moderate to high slope condition. These angles, while not ...
2025-03-11 04:28:46,021 - DEBUG - Cleaned JSON after whitespace removal (repr): '\\n{\\n"summary":"Based on the provided average slope of 29.69 degrees and maximum slope of 32.09 degrees, the property presents a moderate to high slope condition. These angles, while not extreme, r...
2025-03-11 04:28:46,021 - ERROR - Initial JSON parsing error: Expecting value: line 1 column 1 (char 0), Cleaned JSON: '\\n{\\n"summary":"Based on the provided average slope of 29.69 degrees and maximum slope of 32.09 degrees, the property presents a moderate to high slope condition. These angles, while not extreme, r...
2025-03-11 04:28:46,021 - ERROR - Fallback JSON parsing error: Expecting value: line 1 column 1 (char 0), Fallback JSON: '\\n{\\n  "summary": "Based on the provided average slope of 29.69 degrees and maximum slope of 32.09 degrees, the property presents a moderate to high slope condition. These angles, while not extreme...
2025-03-11 04:28:46,022 - INFO - Starting feasibility report generation.
2025-03-11 04:28:46,023 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 04:28:46,025 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 04:28:46,027 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 04:28:46,028 - DEBUG - send_request_headers.complete
2025-03-11 04:28:46,028 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 04:28:46,028 - DEBUG - send_request_body.complete
2025-03-11 04:28:46,028 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 04:28:50,351 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 11:28:50 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4281'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 04:28:50,351 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 04:28:50,352 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 04:28:50,354 - DEBUG - receive_response_body.complete
2025-03-11 04:28:50,354 - DEBUG - response_closed.started
2025-03-11 04:28:50,354 - DEBUG - response_closed.complete
2025-03-11 04:28:50,356 - INFO - API call successful, writing result.
2025-03-11 04:28:50,359 - DEBUG - Attempting to parse raw response (repr): 'AgentRunResult(data=\'```json\\n{\\n    "location_analysis": {\\n        "summary": "Analysis failed due to invalid JSON response from the location analysis tool. Unable to automatically determine pr...
2025-03-11 04:28:50,359 - DEBUG - Extracted data field (repr): '```json\\n{\\n    "location_analysis": {\\n        "summary": "Analysis failed due to invalid JSON response from the location analysis tool. Unable to automatically determine precise location-specifi...
2025-03-11 04:28:50,360 - DEBUG - Cleaned JSON after whitespace removal (repr): '\\n{\\n"location_analysis":{\\n"summary":"Analysis failed due to invalid JSON response from the location analysis tool. Unable to automatically determine precise location-specific geological hazards ...
2025-03-11 04:28:50,361 - ERROR - Initial JSON parsing error: Expecting value: line 1 column 1 (char 0), Cleaned JSON: '\\n{\\n"location_analysis":{\\n"summary":"Analysis failed due to invalid JSON response from the location analysis tool. Unable to automatically determine precise location-specific geological hazards ...
2025-03-11 04:28:50,361 - ERROR - Fallback JSON parsing error: Expecting value: line 1 column 1 (char 0), Fallback JSON: '\\n{\\n    "location_analysis": {\\n        "summary": "Analysis failed due to invalid JSON response from the location analysis tool. Unable to automatically determine precise location-specific geolo...
2025-03-11 04:52:23,526 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 04:52:23,529 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 04:52:23,581 - INFO - Write permissions confirmed.
2025-03-11 04:52:23,587 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 04:52:23,587 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 04:52:23,594 - INFO - Gemini model initialized successfully.
2025-03-11 04:52:28,066 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 04:52:28,066 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 04:52:28,382 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 04:53:07,976 - INFO - Starting location analysis.
2025-03-11 04:53:07,980 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 04:53:08,090 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 04:53:08,102 - DEBUG - Using selector: SelectSelector
2025-03-11 04:53:08,120 - DEBUG - close.started
2025-03-11 04:53:08,136 - DEBUG - close.complete
2025-03-11 04:53:08,136 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 04:53:08,176 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104E7A91F0>
2025-03-11 04:53:08,176 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 04:53:08,289 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002105A2F7F80>
2025-03-11 04:53:08,289 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 04:53:08,289 - DEBUG - send_request_headers.complete
2025-03-11 04:53:08,289 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 04:53:08,289 - DEBUG - send_request_body.complete
2025-03-11 04:53:08,289 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 04:53:13,564 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 11:53:13 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4789'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 04:53:13,807 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 04:53:13,849 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 04:53:13,948 - DEBUG - receive_response_body.complete
2025-03-11 04:53:13,948 - DEBUG - response_closed.started
2025-03-11 04:53:13,948 - DEBUG - response_closed.complete
2025-03-11 04:53:14,839 - INFO - API call successful, writing result.
2025-03-11 04:53:14,871 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 04:53:14,872 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "This geotechnical analysis section provides an initial assessment of environmental hazards at a location on Mercer Island, WA, based on provided environmental data. The prop...
2025-03-11 04:53:14,873 - DEBUG - Cleaned JSON (repr): '{ "summary": "This geotechnical analysis section provides an initial assessment of environmental hazards at a location on Mercer Island, WA, based on provided environmental data. The property is iden...
2025-03-11 04:53:14,874 - DEBUG - Successfully parsed JSON: '{ "summary": "This geotechnical analysis section provides an initial assessment of environmental hazards at a location on Mercer Island, WA, based on provided environmental data. The property is iden...
2025-03-11 04:53:14,903 - INFO - Starting slope analysis.
2025-03-11 04:53:14,904 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 04:53:14,932 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 04:53:14,935 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 04:53:14,936 - DEBUG - send_request_headers.complete
2025-03-11 04:53:14,936 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 04:53:14,937 - DEBUG - send_request_body.complete
2025-03-11 04:53:14,937 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 04:53:18,714 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 11:53:18 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3759'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 04:53:18,714 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 04:53:18,714 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 04:53:18,714 - DEBUG - receive_response_body.complete
2025-03-11 04:53:18,714 - DEBUG - response_closed.started
2025-03-11 04:53:18,714 - DEBUG - response_closed.complete
2025-03-11 04:53:18,714 - INFO - API call successful, writing result.
2025-03-11 04:53:18,714 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 04:53:18,714 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property on Mercer Island presents a moderate to high risk of slope...
2025-03-11 04:53:18,714 - DEBUG - Cleaned JSON (repr): '{ "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property on Mercer Island presents a moderate to high risk of slope instability...
2025-03-11 04:53:18,714 - DEBUG - Successfully parsed JSON: '{ "summary": "Based on the provided slope data (average slope of 29.69 degrees and maximum slope of 32.09 degrees), the property on Mercer Island presents a moderate to high risk of slope instability...
2025-03-11 04:53:18,714 - INFO - Starting feasibility report generation.
2025-03-11 04:53:18,714 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 04:53:18,727 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 04:53:18,727 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 04:53:18,727 - DEBUG - send_request_headers.complete
2025-03-11 04:53:18,727 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 04:53:18,727 - DEBUG - send_request_body.complete
2025-03-11 04:53:18,727 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 04:53:25,916 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 11:53:25 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=7171'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 04:53:25,916 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 04:53:25,916 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 04:53:25,916 - DEBUG - receive_response_body.complete
2025-03-11 04:53:25,916 - DEBUG - response_closed.started
2025-03-11 04:53:25,916 - DEBUG - response_closed.complete
2025-03-11 04:53:25,916 - INFO - API call successful, writing result.
2025-03-11 04:53:25,916 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 04:53:25,916 - DEBUG - Extracted data field (repr): '```json\n{\n  "location_analysis": {\n    "summary": "This geotechnical analysis section provides an initial assessment of environmental hazards at a location on Mercer Island, WA, based on provided ...
2025-03-11 04:53:25,933 - DEBUG - Cleaned JSON (repr): '{ "location_analysis": { "summary": "This geotechnical analysis section provides an initial assessment of environmental hazards at a location on Mercer Island, WA, based on provided environmental dat...
2025-03-11 04:53:25,934 - DEBUG - Successfully parsed JSON: '{ "location_analysis": { "summary": "This geotechnical analysis section provides an initial assessment of environmental hazards at a location on Mercer Island, WA, based on provided environmental dat...
2025-03-11 05:12:04,874 - INFO - Starting chat with report.
2025-03-11 05:12:04,896 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:12:04,896 - DEBUG - Using selector: SelectSelector
2025-03-11 05:12:05,002 - DEBUG - close.started
2025-03-11 05:12:05,005 - DEBUG - close.complete
2025-03-11 05:12:05,008 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:12:05,229 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104E4095E0>
2025-03-11 05:12:05,231 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:12:05,321 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104E4098E0>
2025-03-11 05:12:05,323 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:12:05,326 - DEBUG - send_request_headers.complete
2025-03-11 05:12:05,326 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:12:05,327 - DEBUG - send_request_body.complete
2025-03-11 05:12:05,328 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:12:13,470 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:12:13 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=8114'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:12:13,538 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:12:13,546 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:12:13,562 - DEBUG - receive_response_body.complete
2025-03-11 05:12:13,564 - DEBUG - response_closed.started
2025-03-11 05:12:13,565 - DEBUG - response_closed.complete
2025-03-11 05:12:13,601 - INFO - Chat response successful.
2025-03-11 05:20:14,419 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:20:14,419 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:20:14,436 - INFO - Write permissions confirmed.
2025-03-11 05:20:14,436 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 05:20:14,436 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 05:20:14,436 - INFO - Gemini model initialized successfully.
2025-03-11 05:20:22,445 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 05:20:22,445 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 05:20:22,828 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 05:21:07,472 - INFO - Starting location analysis.
2025-03-11 05:21:07,472 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 05:21:07,583 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 05:21:07,583 - DEBUG - Using selector: SelectSelector
2025-03-11 05:21:07,586 - DEBUG - close.started
2025-03-11 05:21:07,587 - DEBUG - close.complete
2025-03-11 05:21:07,587 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:21:07,671 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104DFAD3D0>
2025-03-11 05:21:07,671 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:21:07,734 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104DFAD6A0>
2025-03-11 05:21:07,734 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:21:07,734 - DEBUG - send_request_headers.complete
2025-03-11 05:21:07,734 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:21:07,734 - DEBUG - send_request_body.complete
2025-03-11 05:21:07,734 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:21:11,652 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:21:11 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3884'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:21:11,652 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:21:11,652 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:21:11,657 - DEBUG - receive_response_body.complete
2025-03-11 05:21:11,657 - DEBUG - response_closed.started
2025-03-11 05:21:11,657 - DEBUG - response_closed.complete
2025-03-11 05:21:11,658 - INFO - API call successful, writing result.
2025-03-11 05:21:11,659 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:21:11,660 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "The subject property on Mercer Island, WA, presents several environmental hazards that will significantly impact construction feasibility and design. These include erosion, ...
2025-03-11 05:21:11,660 - DEBUG - Cleaned JSON (repr): '{ "summary": "The subject property on Mercer Island, WA, presents several environmental hazards that will significantly impact construction feasibility and design. These include erosion, potential sl...
2025-03-11 05:21:11,661 - DEBUG - Successfully parsed JSON: '{ "summary": "The subject property on Mercer Island, WA, presents several environmental hazards that will significantly impact construction feasibility and design. These include erosion, potential sl...
2025-03-11 05:21:11,661 - INFO - Starting slope analysis.
2025-03-11 05:21:11,661 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 05:21:11,663 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 05:21:11,664 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:21:11,665 - DEBUG - send_request_headers.complete
2025-03-11 05:21:11,665 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:21:11,665 - DEBUG - send_request_body.complete
2025-03-11 05:21:11,665 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:21:16,200 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:21:16 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4512'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:21:16,201 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:21:16,201 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:21:16,201 - DEBUG - receive_response_body.complete
2025-03-11 05:21:16,201 - DEBUG - response_closed.started
2025-03-11 05:21:16,202 - DEBUG - response_closed.complete
2025-03-11 05:21:16,202 - INFO - API call successful, writing result.
2025-03-11 05:21:16,205 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:21:16,205 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "Based on the provided slope data, the property on Mercer Island exhibits an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. Slopes in this range present...
2025-03-11 05:21:16,206 - DEBUG - Cleaned JSON (repr): '{ "summary": "Based on the provided slope data, the property on Mercer Island exhibits an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. Slopes in this range present potential g...
2025-03-11 05:21:16,206 - DEBUG - Successfully parsed JSON: '{ "summary": "Based on the provided slope data, the property on Mercer Island exhibits an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. Slopes in this range present potential g...
2025-03-11 05:21:16,207 - INFO - Starting feasibility report generation.
2025-03-11 05:21:16,207 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 05:21:16,209 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 05:21:16,214 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:21:16,215 - DEBUG - send_request_headers.complete
2025-03-11 05:21:16,215 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:21:16,216 - DEBUG - send_request_body.complete
2025-03-11 05:21:16,216 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:21:23,034 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:21:23 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=6799'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:21:23,034 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:21:23,034 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:21:23,034 - DEBUG - receive_response_body.complete
2025-03-11 05:21:23,034 - DEBUG - response_closed.started
2025-03-11 05:21:23,034 - DEBUG - response_closed.complete
2025-03-11 05:21:23,034 - INFO - API call successful, writing result.
2025-03-11 05:21:23,045 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:21:23,045 - DEBUG - Extracted data field (repr): '```json\n{\n  "location_analysis": {\n    "summary": "The subject property on Mercer Island, WA, presents several environmental hazards that will significantly impact construction feasibility and des...
2025-03-11 05:21:23,049 - DEBUG - Cleaned JSON (repr): '{ "location_analysis": { "summary": "The subject property on Mercer Island, WA, presents several environmental hazards that will significantly impact construction feasibility and design. These includ...
2025-03-11 05:21:23,049 - DEBUG - Successfully parsed JSON: '{ "location_analysis": { "summary": "The subject property on Mercer Island, WA, presents several environmental hazards that will significantly impact construction feasibility and design. These includ...
2025-03-11 05:22:57,422 - INFO - Starting chat with report.
2025-03-11 05:22:57,423 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:22:57,435 - DEBUG - Using selector: SelectSelector
2025-03-11 05:22:57,436 - DEBUG - close.started
2025-03-11 05:22:57,436 - DEBUG - close.complete
2025-03-11 05:22:57,436 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:22:57,490 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021056B9CBC0>
2025-03-11 05:22:57,498 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:22:57,536 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021056B9D970>
2025-03-11 05:22:57,536 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:22:57,536 - DEBUG - send_request_headers.complete
2025-03-11 05:22:57,536 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:22:57,536 - DEBUG - send_request_body.complete
2025-03-11 05:22:57,536 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:23:03,848 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:23:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=6280'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:23:03,848 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:23:03,848 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:23:03,855 - DEBUG - receive_response_body.complete
2025-03-11 05:23:03,855 - DEBUG - response_closed.started
2025-03-11 05:23:03,855 - DEBUG - response_closed.complete
2025-03-11 05:23:03,857 - INFO - Chat response successful.
2025-03-11 05:23:03,940 - INFO - Starting chat with report.
2025-03-11 05:23:03,940 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:23:03,941 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:23:03,942 - DEBUG - send_request_headers.complete
2025-03-11 05:23:03,942 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:23:03,943 - DEBUG - send_request_body.complete
2025-03-11 05:23:03,943 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:23:11,148 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:23:11 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=7183'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:23:11,149 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:23:11,149 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:23:11,150 - DEBUG - receive_response_body.complete
2025-03-11 05:23:11,150 - DEBUG - response_closed.started
2025-03-11 05:23:11,150 - DEBUG - response_closed.complete
2025-03-11 05:23:11,154 - INFO - Chat response successful.
2025-03-11 05:23:11,228 - INFO - Starting chat with report.
2025-03-11 05:23:11,228 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:23:11,229 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:23:11,230 - DEBUG - send_request_headers.complete
2025-03-11 05:23:11,230 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:23:11,230 - DEBUG - send_request_body.complete
2025-03-11 05:23:11,230 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:23:16,697 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:23:16 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5447'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:23:16,697 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:23:16,698 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:23:16,700 - DEBUG - receive_response_body.complete
2025-03-11 05:23:16,700 - DEBUG - response_closed.started
2025-03-11 05:23:16,700 - DEBUG - response_closed.complete
2025-03-11 05:23:16,700 - INFO - Chat response successful.
2025-03-11 05:23:16,769 - INFO - Starting chat with report.
2025-03-11 05:23:16,770 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:23:16,772 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:23:16,773 - DEBUG - send_request_headers.complete
2025-03-11 05:23:16,773 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:23:16,773 - DEBUG - send_request_body.complete
2025-03-11 05:23:16,774 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:23:23,908 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:23:23 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=7101'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:23:23,908 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:23:23,909 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:23:23,911 - DEBUG - receive_response_body.complete
2025-03-11 05:23:23,911 - DEBUG - response_closed.started
2025-03-11 05:23:23,911 - DEBUG - response_closed.complete
2025-03-11 05:23:23,912 - INFO - Chat response successful.
2025-03-11 05:23:23,966 - INFO - Starting chat with report.
2025-03-11 05:23:23,967 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:23:23,968 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:23:23,969 - DEBUG - send_request_headers.complete
2025-03-11 05:23:23,969 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:23:23,969 - DEBUG - send_request_body.complete
2025-03-11 05:23:23,969 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:23:32,137 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:23:32 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=8145'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:23:32,137 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:23:32,138 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:23:32,139 - DEBUG - receive_response_body.complete
2025-03-11 05:23:32,140 - DEBUG - response_closed.started
2025-03-11 05:23:32,140 - DEBUG - response_closed.complete
2025-03-11 05:23:32,141 - INFO - Chat response successful.
2025-03-11 05:23:32,219 - INFO - Starting chat with report.
2025-03-11 05:23:32,219 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:23:32,222 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:23:32,222 - DEBUG - send_request_headers.complete
2025-03-11 05:23:32,222 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:23:32,222 - DEBUG - send_request_body.complete
2025-03-11 05:23:32,222 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:23:38,611 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:23:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=6349'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:23:38,611 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:23:38,611 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:23:38,611 - DEBUG - receive_response_body.complete
2025-03-11 05:23:38,611 - DEBUG - response_closed.started
2025-03-11 05:23:38,611 - DEBUG - response_closed.complete
2025-03-11 05:23:38,626 - INFO - Chat response successful.
2025-03-11 05:23:38,690 - INFO - Starting chat with report.
2025-03-11 05:23:38,690 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:23:38,706 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:23:38,706 - DEBUG - send_request_headers.complete
2025-03-11 05:23:38,706 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:23:38,707 - DEBUG - send_request_body.complete
2025-03-11 05:23:38,707 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:23:42,382 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:23:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3653'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:23:42,382 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:23:42,383 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:23:42,384 - DEBUG - receive_response_body.complete
2025-03-11 05:23:42,385 - DEBUG - response_closed.started
2025-03-11 05:23:42,385 - DEBUG - response_closed.complete
2025-03-11 05:23:42,387 - INFO - Chat response successful.
2025-03-11 05:23:42,461 - INFO - Starting chat with report.
2025-03-11 05:23:42,461 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:23:42,463 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:23:42,464 - DEBUG - send_request_headers.complete
2025-03-11 05:23:42,464 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:23:42,464 - DEBUG - send_request_body.complete
2025-03-11 05:23:42,464 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:23:49,271 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:23:49 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=6784'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:23:49,272 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:23:49,273 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:23:49,274 - DEBUG - receive_response_body.complete
2025-03-11 05:23:49,275 - DEBUG - response_closed.started
2025-03-11 05:23:49,275 - DEBUG - response_closed.complete
2025-03-11 05:23:49,276 - INFO - Chat response successful.
2025-03-11 05:23:49,348 - INFO - Starting chat with report.
2025-03-11 05:23:49,349 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:23:49,351 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:23:49,351 - DEBUG - send_request_headers.complete
2025-03-11 05:23:49,351 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:23:49,352 - DEBUG - send_request_body.complete
2025-03-11 05:23:49,352 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:23:54,750 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:23:54 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5377'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:23:54,751 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:23:54,751 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:23:54,752 - DEBUG - receive_response_body.complete
2025-03-11 05:23:54,752 - DEBUG - response_closed.started
2025-03-11 05:23:54,752 - DEBUG - response_closed.complete
2025-03-11 05:23:54,754 - INFO - Chat response successful.
2025-03-11 05:23:54,818 - INFO - Starting chat with report.
2025-03-11 05:23:54,818 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:23:54,834 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:23:54,837 - DEBUG - send_request_headers.complete
2025-03-11 05:23:54,837 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:23:54,837 - DEBUG - send_request_body.complete
2025-03-11 05:23:54,837 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:24:00,774 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:24:00 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5928'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:24:00,774 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:24:00,774 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:24:00,789 - DEBUG - receive_response_body.complete
2025-03-11 05:24:00,789 - DEBUG - response_closed.started
2025-03-11 05:24:00,789 - DEBUG - response_closed.complete
2025-03-11 05:24:00,789 - INFO - Chat response successful.
2025-03-11 05:24:00,837 - INFO - Starting chat with report.
2025-03-11 05:24:00,837 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:24:00,852 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:24:00,852 - DEBUG - send_request_headers.complete
2025-03-11 05:24:00,852 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:24:00,852 - DEBUG - send_request_body.complete
2025-03-11 05:24:00,852 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:24:06,697 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:24:06 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5824'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:24:06,697 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:24:06,698 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:24:06,701 - DEBUG - receive_response_body.complete
2025-03-11 05:24:06,701 - DEBUG - response_closed.started
2025-03-11 05:24:06,701 - DEBUG - response_closed.complete
2025-03-11 05:24:06,703 - INFO - Chat response successful.
2025-03-11 05:24:06,790 - INFO - Starting chat with report.
2025-03-11 05:24:06,791 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:24:06,793 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:24:06,794 - DEBUG - send_request_headers.complete
2025-03-11 05:24:06,794 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:24:06,795 - DEBUG - send_request_body.complete
2025-03-11 05:24:06,795 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:24:10,460 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:24:10 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3647'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:24:10,460 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:24:10,460 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:24:10,460 - DEBUG - receive_response_body.complete
2025-03-11 05:24:10,460 - DEBUG - response_closed.started
2025-03-11 05:24:10,460 - DEBUG - response_closed.complete
2025-03-11 05:24:10,460 - INFO - Chat response successful.
2025-03-11 05:24:10,549 - INFO - Starting chat with report.
2025-03-11 05:24:10,549 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:24:10,549 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:24:10,549 - DEBUG - send_request_headers.complete
2025-03-11 05:24:10,549 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:24:10,549 - DEBUG - send_request_body.complete
2025-03-11 05:24:10,549 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:24:17,237 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:24:17 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=6660'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:24:17,237 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:24:17,237 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:24:17,238 - DEBUG - receive_response_body.complete
2025-03-11 05:24:17,238 - DEBUG - response_closed.started
2025-03-11 05:24:17,239 - DEBUG - response_closed.complete
2025-03-11 05:24:17,241 - INFO - Chat response successful.
2025-03-11 05:24:17,330 - INFO - Starting chat with report.
2025-03-11 05:24:17,330 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:24:17,332 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:24:17,333 - DEBUG - send_request_headers.complete
2025-03-11 05:24:17,333 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:24:17,334 - DEBUG - send_request_body.complete
2025-03-11 05:24:17,334 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:24:22,847 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:24:22 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5496'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:24:22,848 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:24:22,848 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:24:22,849 - DEBUG - receive_response_body.complete
2025-03-11 05:24:22,850 - DEBUG - response_closed.started
2025-03-11 05:24:22,851 - DEBUG - response_closed.complete
2025-03-11 05:24:22,852 - INFO - Chat response successful.
2025-03-11 05:24:22,925 - INFO - Starting chat with report.
2025-03-11 05:24:22,925 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:24:22,925 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:24:22,925 - DEBUG - send_request_headers.complete
2025-03-11 05:24:22,925 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:24:22,925 - DEBUG - send_request_body.complete
2025-03-11 05:24:22,925 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:24:29,211 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:24:29 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=6268'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:24:29,211 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:24:29,211 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:24:29,211 - DEBUG - receive_response_body.complete
2025-03-11 05:24:29,211 - DEBUG - response_closed.started
2025-03-11 05:24:29,211 - DEBUG - response_closed.complete
2025-03-11 05:24:29,211 - INFO - Chat response successful.
2025-03-11 05:25:54,840 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:25:54,840 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:25:54,846 - INFO - Write permissions confirmed.
2025-03-11 05:25:54,847 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 05:25:54,847 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 05:25:54,847 - INFO - Gemini model initialized successfully.
2025-03-11 05:25:54,907 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 05:25:54,907 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 05:25:55,408 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 05:26:31,471 - INFO - Starting location analysis.
2025-03-11 05:26:31,471 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 05:26:31,545 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 05:26:31,545 - DEBUG - Using selector: SelectSelector
2025-03-11 05:26:31,545 - DEBUG - close.started
2025-03-11 05:26:31,545 - DEBUG - close.complete
2025-03-11 05:26:31,560 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:26:31,592 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104DD9D430>
2025-03-11 05:26:31,592 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:26:31,623 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104DD9D700>
2025-03-11 05:26:31,623 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:26:31,623 - DEBUG - send_request_headers.complete
2025-03-11 05:26:31,623 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:26:31,623 - DEBUG - send_request_body.complete
2025-03-11 05:26:31,623 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:26:37,082 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:26:37 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5429'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:26:37,082 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:26:37,082 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:26:37,083 - DEBUG - receive_response_body.complete
2025-03-11 05:26:37,084 - DEBUG - response_closed.started
2025-03-11 05:26:37,084 - DEBUG - response_closed.complete
2025-03-11 05:26:37,084 - INFO - API call successful, writing result.
2025-03-11 05:26:37,085 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:26:37,085 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "The environmental data indicates several potential geotechnical challenges for construction at this Mercer Island location. The presence of erosion, potential slide, and sei...
2025-03-11 05:26:37,086 - DEBUG - Cleaned JSON (repr): '{ "summary": "The environmental data indicates several potential geotechnical challenges for construction at this Mercer Island location. The presence of erosion, potential slide, and seismic hazards...
2025-03-11 05:26:37,086 - DEBUG - Successfully parsed JSON: '{ "summary": "The environmental data indicates several potential geotechnical challenges for construction at this Mercer Island location. The presence of erosion, potential slide, and seismic hazards...
2025-03-11 05:26:37,086 - INFO - Starting slope analysis.
2025-03-11 05:26:37,086 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 05:26:37,087 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 05:26:37,088 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:26:37,089 - DEBUG - send_request_headers.complete
2025-03-11 05:26:37,089 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:26:37,089 - DEBUG - send_request_body.complete
2025-03-11 05:26:37,089 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:26:40,908 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:26:40 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3796'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:26:40,908 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:26:40,908 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:26:40,908 - DEBUG - receive_response_body.complete
2025-03-11 05:26:40,908 - DEBUG - response_closed.started
2025-03-11 05:26:40,908 - DEBUG - response_closed.complete
2025-03-11 05:26:40,908 - INFO - API call successful, writing result.
2025-03-11 05:26:40,924 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:26:40,924 - DEBUG - Extracted data field (repr): '```json\n{\n    "summary": "Based on the provided slope data, the property exhibits average and maximum slopes of 29.69 degrees and 32.09 degrees, respectively. These slope angles suggest a moderatel...
2025-03-11 05:26:40,924 - DEBUG - Cleaned JSON (repr): '{ "summary": "Based on the provided slope data, the property exhibits average and maximum slopes of 29.69 degrees and 32.09 degrees, respectively. These slope angles suggest a moderately steep terrai...
2025-03-11 05:26:40,924 - DEBUG - Successfully parsed JSON: '{ "summary": "Based on the provided slope data, the property exhibits average and maximum slopes of 29.69 degrees and 32.09 degrees, respectively. These slope angles suggest a moderately steep terrai...
2025-03-11 05:26:40,924 - INFO - Starting feasibility report generation.
2025-03-11 05:26:40,924 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 05:26:40,924 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 05:26:40,924 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:26:40,924 - DEBUG - send_request_headers.complete
2025-03-11 05:26:40,924 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:26:40,924 - DEBUG - send_request_body.complete
2025-03-11 05:26:40,924 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:26:48,572 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:26:48 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=7623'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:26:48,572 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:26:48,572 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:26:48,572 - DEBUG - receive_response_body.complete
2025-03-11 05:26:48,572 - DEBUG - response_closed.started
2025-03-11 05:26:48,572 - DEBUG - response_closed.complete
2025-03-11 05:26:48,572 - INFO - API call successful, writing result.
2025-03-11 05:26:48,572 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:26:48,572 - DEBUG - Extracted data field (repr): '```json\n{\n  "location_analysis": {\n    "summary": "The environmental data indicates several potential geotechnical challenges for construction at this Mercer Island location. The presence of erosi...
2025-03-11 05:26:48,572 - DEBUG - Cleaned JSON (repr): '{ "location_analysis": { "summary": "The environmental data indicates several potential geotechnical challenges for construction at this Mercer Island location. The presence of erosion, potential sli...
2025-03-11 05:26:48,572 - DEBUG - Successfully parsed JSON: '{ "location_analysis": { "summary": "The environmental data indicates several potential geotechnical challenges for construction at this Mercer Island location. The presence of erosion, potential sli...
2025-03-11 05:27:10,745 - INFO - Starting chat with report.
2025-03-11 05:27:10,745 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:27:10,745 - DEBUG - Using selector: SelectSelector
2025-03-11 05:27:10,747 - DEBUG - close.started
2025-03-11 05:27:10,747 - DEBUG - close.complete
2025-03-11 05:27:10,748 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:27:10,758 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002105A342C00>
2025-03-11 05:27:10,758 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:27:10,804 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002105A343FB0>
2025-03-11 05:27:10,804 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:27:10,804 - DEBUG - send_request_headers.complete
2025-03-11 05:27:10,804 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:27:10,804 - DEBUG - send_request_body.complete
2025-03-11 05:27:10,804 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:27:16,759 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:27:16 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5929'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:27:16,760 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:27:16,760 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:27:16,761 - DEBUG - receive_response_body.complete
2025-03-11 05:27:16,761 - DEBUG - response_closed.started
2025-03-11 05:27:16,762 - DEBUG - response_closed.complete
2025-03-11 05:27:16,764 - INFO - Chat response successful.
2025-03-11 05:28:23,359 - INFO - Starting chat with report.
2025-03-11 05:28:23,359 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:28:23,359 - DEBUG - Using selector: SelectSelector
2025-03-11 05:28:23,359 - DEBUG - close.started
2025-03-11 05:28:23,359 - DEBUG - close.complete
2025-03-11 05:28:23,359 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:28:23,458 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002105A343560>
2025-03-11 05:28:23,458 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:28:23,525 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002105A341610>
2025-03-11 05:28:23,525 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:28:23,525 - DEBUG - send_request_headers.complete
2025-03-11 05:28:23,525 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:28:23,525 - DEBUG - send_request_body.complete
2025-03-11 05:28:23,525 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:28:32,310 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:28:32 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=8744'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:28:32,312 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:28:32,312 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:28:32,314 - DEBUG - receive_response_body.complete
2025-03-11 05:28:32,315 - DEBUG - response_closed.started
2025-03-11 05:28:32,315 - DEBUG - response_closed.complete
2025-03-11 05:28:32,317 - INFO - Chat response successful.
2025-03-11 05:34:52,144 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:34:52,144 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:34:52,163 - INFO - Write permissions confirmed.
2025-03-11 05:34:52,163 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 05:34:52,163 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 05:34:52,163 - INFO - Gemini model initialized successfully.
2025-03-11 05:34:57,184 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 05:34:57,185 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 05:34:57,599 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 05:35:33,955 - INFO - Starting location analysis.
2025-03-11 05:35:33,955 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 05:35:34,034 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 05:35:34,034 - DEBUG - Using selector: SelectSelector
2025-03-11 05:35:34,050 - DEBUG - close.started
2025-03-11 05:35:34,050 - DEBUG - close.complete
2025-03-11 05:35:34,050 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:35:34,123 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104E8A3740>
2025-03-11 05:35:34,123 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:35:34,155 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002105A340B60>
2025-03-11 05:35:34,156 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:35:34,156 - DEBUG - send_request_headers.complete
2025-03-11 05:35:34,156 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:35:34,156 - DEBUG - send_request_body.complete
2025-03-11 05:35:34,156 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:35:39,078 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:35:39 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4897'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:35:39,079 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:35:39,080 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:35:39,081 - DEBUG - receive_response_body.complete
2025-03-11 05:35:39,081 - DEBUG - response_closed.started
2025-03-11 05:35:39,081 - DEBUG - response_closed.complete
2025-03-11 05:35:39,083 - INFO - API call successful, writing result.
2025-03-11 05:35:39,086 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:35:39,086 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "Based on the provided environmental data, the property on Mercer Island, WA, presents significant geotechnical challenges due to erosion, potential slide areas, seismic haza...
2025-03-11 05:35:39,087 - DEBUG - Cleaned JSON (repr): '{ "summary": "Based on the provided environmental data, the property on Mercer Island, WA, presents significant geotechnical challenges due to erosion, potential slide areas, seismic hazards, and pro...
2025-03-11 05:35:39,087 - DEBUG - Successfully parsed JSON: '{ "summary": "Based on the provided environmental data, the property on Mercer Island, WA, presents significant geotechnical challenges due to erosion, potential slide areas, seismic hazards, and pro...
2025-03-11 05:35:39,087 - INFO - Starting slope analysis.
2025-03-11 05:35:39,088 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 05:35:39,089 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 05:35:39,093 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:35:39,094 - DEBUG - send_request_headers.complete
2025-03-11 05:35:39,094 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:35:39,095 - DEBUG - send_request_body.complete
2025-03-11 05:35:39,095 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:35:43,274 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:35:43 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4156'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:35:43,275 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:35:43,275 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:35:43,275 - DEBUG - receive_response_body.complete
2025-03-11 05:35:43,275 - DEBUG - response_closed.started
2025-03-11 05:35:43,276 - DEBUG - response_closed.complete
2025-03-11 05:35:43,276 - INFO - API call successful, writing result.
2025-03-11 05:35:43,278 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:35:43,278 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "Based on the provided slope data, the property on Mercer Island exhibits slopes averaging 29.69 degrees and peaking at 32.09 degrees. These slopes are considered moderately ...
2025-03-11 05:35:43,278 - DEBUG - Cleaned JSON (repr): '{ "summary": "Based on the provided slope data, the property on Mercer Island exhibits slopes averaging 29.69 degrees and peaking at 32.09 degrees. These slopes are considered moderately steep and re...
2025-03-11 05:35:43,278 - DEBUG - Successfully parsed JSON: '{ "summary": "Based on the provided slope data, the property on Mercer Island exhibits slopes averaging 29.69 degrees and peaking at 32.09 degrees. These slopes are considered moderately steep and re...
2025-03-11 05:35:43,278 - INFO - Starting feasibility report generation.
2025-03-11 05:35:43,279 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 05:35:43,279 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 05:35:43,281 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:35:43,281 - DEBUG - send_request_headers.complete
2025-03-11 05:35:43,281 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:35:43,281 - DEBUG - send_request_body.complete
2025-03-11 05:35:43,281 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:35:50,676 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:35:50 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=7386'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:35:50,676 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:35:50,676 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:35:50,676 - DEBUG - receive_response_body.complete
2025-03-11 05:35:50,676 - DEBUG - response_closed.started
2025-03-11 05:35:50,676 - DEBUG - response_closed.complete
2025-03-11 05:35:50,676 - INFO - API call successful, writing result.
2025-03-11 05:35:50,692 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:35:50,692 - DEBUG - Extracted data field (repr): '```json\n{\n  "location_analysis": {\n    "summary": "Based on the provided environmental data, the property on Mercer Island, WA, presents significant geotechnical challenges due to erosion, potenti...
2025-03-11 05:35:50,694 - DEBUG - Cleaned JSON (repr): '{ "location_analysis": { "summary": "Based on the provided environmental data, the property on Mercer Island, WA, presents significant geotechnical challenges due to erosion, potential slide areas, s...
2025-03-11 05:35:50,694 - DEBUG - Successfully parsed JSON: '{ "location_analysis": { "summary": "Based on the provided environmental data, the property on Mercer Island, WA, presents significant geotechnical challenges due to erosion, potential slide areas, s...
2025-03-11 05:36:41,338 - INFO - Starting chat with report.
2025-03-11 05:36:41,338 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:36:41,339 - DEBUG - Using selector: SelectSelector
2025-03-11 05:36:41,339 - DEBUG - close.started
2025-03-11 05:36:41,339 - DEBUG - close.complete
2025-03-11 05:36:41,339 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:36:41,370 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021055B1BB90>
2025-03-11 05:36:41,370 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:36:41,387 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021055B18050>
2025-03-11 05:36:41,387 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:36:41,387 - DEBUG - send_request_headers.complete
2025-03-11 05:36:41,387 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:36:41,387 - DEBUG - send_request_body.complete
2025-03-11 05:36:41,387 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:36:45,607 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:36:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4191'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:36:45,607 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:36:45,607 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:36:45,607 - DEBUG - receive_response_body.complete
2025-03-11 05:36:45,607 - DEBUG - response_closed.started
2025-03-11 05:36:45,607 - DEBUG - response_closed.complete
2025-03-11 05:36:45,607 - INFO - Chat response successful.
2025-03-11 05:37:34,834 - INFO - Starting chat with report.
2025-03-11 05:37:34,834 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:37:34,834 - DEBUG - Using selector: SelectSelector
2025-03-11 05:37:34,840 - DEBUG - close.started
2025-03-11 05:37:34,840 - DEBUG - close.complete
2025-03-11 05:37:34,841 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:37:34,864 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021055B1A1E0>
2025-03-11 05:37:34,864 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:37:34,893 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021055B1A150>
2025-03-11 05:37:34,893 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:37:34,893 - DEBUG - send_request_headers.complete
2025-03-11 05:37:34,893 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:37:34,893 - DEBUG - send_request_body.complete
2025-03-11 05:37:34,893 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:37:42,897 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:37:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=7969'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:37:42,898 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:37:42,898 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:37:42,900 - DEBUG - receive_response_body.complete
2025-03-11 05:37:42,900 - DEBUG - response_closed.started
2025-03-11 05:37:42,900 - DEBUG - response_closed.complete
2025-03-11 05:37:42,902 - INFO - Chat response successful.
2025-03-11 05:49:24,531 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:49:24,531 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:49:24,531 - INFO - Write permissions confirmed.
2025-03-11 05:49:24,531 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 05:49:24,531 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 05:49:24,531 - INFO - Gemini model initialized successfully.
2025-03-11 05:50:53,563 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:50:53,563 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 05:50:53,577 - INFO - Write permissions confirmed.
2025-03-11 05:50:53,577 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 05:50:53,577 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 05:50:53,578 - INFO - Gemini model initialized successfully.
2025-03-11 05:50:57,246 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 05:50:57,246 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 05:50:57,645 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 05:51:09,624 - INFO - Starting location analysis.
2025-03-11 05:51:09,624 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 05:51:09,627 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 05:51:09,627 - DEBUG - Using selector: SelectSelector
2025-03-11 05:51:09,629 - DEBUG - close.started
2025-03-11 05:51:09,629 - DEBUG - close.complete
2025-03-11 05:51:09,629 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:51:09,722 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210515C7F50>
2025-03-11 05:51:09,722 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:51:09,748 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210515C6540>
2025-03-11 05:51:09,748 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:51:09,748 - DEBUG - send_request_headers.complete
2025-03-11 05:51:09,748 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:51:09,748 - DEBUG - send_request_body.complete
2025-03-11 05:51:09,748 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:51:15,473 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:51:15 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5703'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:51:15,473 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:51:15,473 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:51:15,473 - DEBUG - receive_response_body.complete
2025-03-11 05:51:15,473 - DEBUG - response_closed.started
2025-03-11 05:51:15,473 - DEBUG - response_closed.complete
2025-03-11 05:51:15,489 - INFO - API call successful, writing result.
2025-03-11 05:51:15,704 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:51:15,704 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "The provided environmental data indicates that the Mercer Island location is subject to several geotechnical hazards that will significantly impact construction. These inclu...
2025-03-11 05:51:15,704 - DEBUG - Cleaned JSON (repr): '{ "summary": "The provided environmental data indicates that the Mercer Island location is subject to several geotechnical hazards that will significantly impact construction. These include erosion h...
2025-03-11 05:51:15,704 - DEBUG - Successfully parsed JSON: '{ "summary": "The provided environmental data indicates that the Mercer Island location is subject to several geotechnical hazards that will significantly impact construction. These include erosion h...
2025-03-11 05:51:15,704 - INFO - Starting slope analysis.
2025-03-11 05:51:15,704 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 05:51:15,704 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 05:51:15,704 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:51:15,704 - DEBUG - send_request_headers.complete
2025-03-11 05:51:15,704 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:51:15,704 - DEBUG - send_request_body.complete
2025-03-11 05:51:15,704 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:51:19,954 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:51:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=4218'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:51:19,954 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:51:19,954 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:51:19,954 - DEBUG - receive_response_body.complete
2025-03-11 05:51:19,954 - DEBUG - response_closed.started
2025-03-11 05:51:19,954 - DEBUG - response_closed.complete
2025-03-11 05:51:19,954 - INFO - API call successful, writing result.
2025-03-11 05:51:19,954 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:51:19,954 - DEBUG - Extracted data field (repr): '```json\n{\n    "summary": "The provided slope data indicates a property with an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. These slopes are relatively steep and warrant a d...
2025-03-11 05:51:19,954 - DEBUG - Cleaned JSON (repr): '{ "summary": "The provided slope data indicates a property with an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. These slopes are relatively steep and warrant a detailed geotec...
2025-03-11 05:51:19,954 - DEBUG - Successfully parsed JSON: '{ "summary": "The provided slope data indicates a property with an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. These slopes are relatively steep and warrant a detailed geotec...
2025-03-11 05:51:19,954 - INFO - Starting feasibility report generation.
2025-03-11 05:51:19,954 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 05:51:19,969 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 05:51:19,973 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:51:19,973 - DEBUG - send_request_headers.complete
2025-03-11 05:51:19,973 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:51:19,973 - DEBUG - send_request_body.complete
2025-03-11 05:51:19,973 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:51:27,758 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:51:27 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=7770'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:51:27,758 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:51:27,758 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:51:27,758 - DEBUG - receive_response_body.complete
2025-03-11 05:51:27,758 - DEBUG - response_closed.started
2025-03-11 05:51:27,758 - DEBUG - response_closed.complete
2025-03-11 05:51:27,758 - INFO - API call successful, writing result.
2025-03-11 05:51:27,758 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 05:51:27,758 - DEBUG - Extracted data field (repr): '```json\n{\n  "location_analysis": {\n    "summary": "The provided environmental data indicates that the Mercer Island location is subject to several geotechnical hazards that will significantly impa...
2025-03-11 05:51:27,758 - DEBUG - Cleaned JSON (repr): '{ "location_analysis": { "summary": "The provided environmental data indicates that the Mercer Island location is subject to several geotechnical hazards that will significantly impact construction. ...
2025-03-11 05:51:27,758 - DEBUG - Successfully parsed JSON: '{ "location_analysis": { "summary": "The provided environmental data indicates that the Mercer Island location is subject to several geotechnical hazards that will significantly impact construction. ...
2025-03-11 05:54:53,121 - INFO - Starting chat with report.
2025-03-11 05:54:53,121 - INFO - Calling agent.run_sync for chat response.
2025-03-11 05:54:53,125 - DEBUG - Using selector: SelectSelector
2025-03-11 05:54:53,136 - DEBUG - close.started
2025-03-11 05:54:53,137 - DEBUG - close.complete
2025-03-11 05:54:53,137 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 05:54:53,190 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104D4E1670>
2025-03-11 05:54:53,190 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 05:54:53,230 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002104D4E2150>
2025-03-11 05:54:53,231 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 05:54:53,231 - DEBUG - send_request_headers.complete
2025-03-11 05:54:53,231 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 05:54:53,231 - DEBUG - send_request_body.complete
2025-03-11 05:54:53,231 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 05:54:59,162 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 12:54:59 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5910'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 05:54:59,165 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 05:54:59,166 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 05:54:59,168 - DEBUG - receive_response_body.complete
2025-03-11 05:54:59,168 - DEBUG - response_closed.started
2025-03-11 05:54:59,169 - DEBUG - response_closed.complete
2025-03-11 05:54:59,172 - INFO - Chat response successful.
2025-03-11 06:01:14,323 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 06:01:14,324 - DEBUG - Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025-03-11 06:01:14,328 - INFO - Write permissions confirmed.
2025-03-11 06:01:14,329 - INFO - GOOGLE_API_KEY found: AIza**** (obfuscated for security)
2025-03-11 06:01:14,329 - INFO - Initializing Gemini model: google-gla:gemini-2.0-flash-exp
2025-03-11 06:01:14,330 - INFO - Gemini model initialized successfully.
2025-03-11 06:01:26,818 - DEBUG - Nominatim.geocode: https://nominatim.openstreetmap.org/search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1
2025-03-11 06:01:26,818 - DEBUG - Starting new HTTPS connection (1): nominatim.openstreetmap.org:443
2025-03-11 06:01:27,203 - DEBUG - https://nominatim.openstreetmap.org:443 "GET /search?q=4315+Fernbrook+Dr%2C+Mercer+Island%2C+WA%2C+Mercer+Island%2C+WA&format=json&limit=1 HTTP/1.1" 200 481
2025-03-11 06:01:38,731 - INFO - Starting location analysis.
2025-03-11 06:01:38,731 - INFO - Writing location prompt to logs\location_prompt.log
2025-03-11 06:01:38,731 - INFO - Calling agent.run_sync for location analysis.
2025-03-11 06:01:38,731 - DEBUG - Using selector: SelectSelector
2025-03-11 06:01:38,731 - DEBUG - close.started
2025-03-11 06:01:38,731 - DEBUG - close.complete
2025-03-11 06:01:38,731 - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=5 socket_options=None
2025-03-11 06:01:38,822 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021043B90890>
2025-03-11 06:01:38,822 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021043BE54D0> server_hostname='generativelanguage.googleapis.com' timeout=5
2025-03-11 06:01:38,870 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000021043B93F20>
2025-03-11 06:01:38,870 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 06:01:38,870 - DEBUG - send_request_headers.complete
2025-03-11 06:01:38,870 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 06:01:38,885 - DEBUG - send_request_body.complete
2025-03-11 06:01:38,885 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 06:01:42,456 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 13:01:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=3545'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 06:01:42,456 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 06:01:42,456 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 06:01:42,456 - DEBUG - receive_response_body.complete
2025-03-11 06:01:42,456 - DEBUG - response_closed.started
2025-03-11 06:01:42,456 - DEBUG - response_closed.complete
2025-03-11 06:01:42,456 - INFO - API call successful, writing result.
2025-03-11 06:01:42,456 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 06:01:42,456 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "This geotechnical analysis identifies several environmental hazards present at the Mercer Island site, requiring careful consideration during design and construction. The pr...
2025-03-11 06:01:42,456 - DEBUG - Cleaned JSON (repr): '{ "summary": "This geotechnical analysis identifies several environmental hazards present at the Mercer Island site, requiring careful consideration during design and construction. The presence of er...
2025-03-11 06:01:42,456 - DEBUG - Successfully parsed JSON: '{ "summary": "This geotechnical analysis identifies several environmental hazards present at the Mercer Island site, requiring careful consideration during design and construction. The presence of er...
2025-03-11 06:01:42,456 - INFO - Starting slope analysis.
2025-03-11 06:01:42,456 - INFO - Writing slope prompt to logs\slope_prompt.log
2025-03-11 06:01:42,456 - INFO - Calling agent.run_sync for slope analysis.
2025-03-11 06:01:42,456 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 06:01:42,456 - DEBUG - send_request_headers.complete
2025-03-11 06:01:42,456 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 06:01:42,472 - DEBUG - send_request_body.complete
2025-03-11 06:01:42,472 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 06:01:47,538 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 13:01:47 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=5060'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 06:01:47,554 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 06:01:47,555 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 06:01:47,555 - DEBUG - receive_response_body.complete
2025-03-11 06:01:47,556 - DEBUG - response_closed.started
2025-03-11 06:01:47,557 - DEBUG - response_closed.complete
2025-03-11 06:01:47,558 - INFO - API call successful, writing result.
2025-03-11 06:01:47,558 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 06:01:47,562 - DEBUG - Extracted data field (repr): '```json\n{\n  "summary": "Based on the provided slope data, the property on Mercer Island exhibits an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. These slope angles fall with...
2025-03-11 06:01:47,563 - DEBUG - Cleaned JSON (repr): '{ "summary": "Based on the provided slope data, the property on Mercer Island exhibits an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. These slope angles fall within a range t...
2025-03-11 06:01:47,563 - DEBUG - Successfully parsed JSON: '{ "summary": "Based on the provided slope data, the property on Mercer Island exhibits an average slope of 29.69 degrees and a maximum slope of 32.09 degrees. These slope angles fall within a range t...
2025-03-11 06:01:47,564 - INFO - Starting feasibility report generation.
2025-03-11 06:01:47,564 - INFO - Writing feasibility prompt to logs\feasibility_prompt.log
2025-03-11 06:01:47,566 - INFO - Calling agent.run_sync for feasibility report.
2025-03-11 06:01:47,569 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 06:01:47,570 - DEBUG - send_request_headers.complete
2025-03-11 06:01:47,570 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 06:01:47,570 - DEBUG - send_request_body.complete
2025-03-11 06:01:47,571 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 06:01:54,800 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Tue, 11 Mar 2025 13:01:54 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=7206'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 06:01:54,800 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent "HTTP/1.1 200 OK"
2025-03-11 06:01:54,800 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 06:01:54,800 - DEBUG - receive_response_body.complete
2025-03-11 06:01:54,800 - DEBUG - response_closed.started
2025-03-11 06:01:54,800 - DEBUG - response_closed.complete
2025-03-11 06:01:54,800 - INFO - API call successful, writing result.
2025-03-11 06:01:54,811 - DEBUG - Raw result type: <class 'pydantic_ai.agent.AgentRunResult'>
2025-03-11 06:01:54,811 - DEBUG - Extracted data field (repr): '```json\n{\n  "location_analysis": {\n    "summary": "This geotechnical analysis identifies several environmental hazards present at the Mercer Island site, requiring careful consideration during des...
2025-03-11 06:01:54,811 - DEBUG - Cleaned JSON (repr): '{ "location_analysis": { "summary": "This geotechnical analysis identifies several environmental hazards present at the Mercer Island site, requiring careful consideration during design and construct...
2025-03-11 06:01:54,811 - DEBUG - Successfully parsed JSON: '{ "location_analysis": { "summary": "This geotechnical analysis identifies several environmental hazards present at the Mercer Island site, requiring careful consideration during design and construct...
